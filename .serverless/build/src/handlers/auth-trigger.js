"use strict";var Cs=Object.create;var $t=Object.defineProperty;var Fs=Object.getOwnPropertyDescriptor;var Vs=Object.getOwnPropertyNames;var js=Object.getPrototypeOf,Us=Object.prototype.hasOwnProperty;var Nt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ls=(e,t)=>{for(var n in t)$t(e,n,{get:t[n],enumerable:!0})},Rr=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vs(t))!Us.call(e,i)&&i!==n&&$t(e,i,{get:()=>t[i],enumerable:!(r=Fs(t,i))||r.enumerable});return e};var Ms=(e,t,n)=>(n=e!=null?Cs(js(e)):{},Rr(t||!e||!e.__esModule?$t(n,"default",{value:e,enumerable:!0}):n,e)),Bs=e=>Rr($t({},"__esModule",{value:!0}),e);var Sr=Nt((mm,Ts)=>{"use strict";var Gs=Object.create,Zt=Object.defineProperty,Hs=Object.getOwnPropertyDescriptor,Ws=Object.getOwnPropertyNames,Ks=Object.getPrototypeOf,Js=Object.prototype.hasOwnProperty,wi=(e,t)=>()=>(e&&(t=e(e=0)),t),oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),He=(e,t)=>{for(var n in t)Zt(e,n,{get:t[n],enumerable:!0})},vi=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ws(t))!Js.call(e,i)&&i!==n&&Zt(e,i,{get:()=>t[i],enumerable:!(r=Hs(t,i))||r.enumerable});return e},F=(e,t,n)=>(n=e!=null?Gs(Ks(e)):{},vi(t||!e||!e.__esModule?Zt(n,"default",{value:e,enumerable:!0}):n,e)),Qs=e=>vi(Zt({},"__esModule",{value:!0}),e),bi=oe((e,t)=>{"use strict";t.exports=(n,r=process.argv)=>{let i=n.startsWith("-")?"":n.length===1?"-":"--",a=r.indexOf(i+n),s=r.indexOf("--");return a!==-1&&(s===-1||a<s)}}),Ys=oe((e,t)=>{"use strict";var n=require("node:os"),r=require("node:tty"),i=bi(),{env:a}=process,s;i("no-color")||i("no-colors")||i("color=false")||i("color=never")?s=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=1),"FORCE_COLOR"in a&&(a.FORCE_COLOR==="true"?s=1:a.FORCE_COLOR==="false"?s=0:s=a.FORCE_COLOR.length===0?1:Math.min(parseInt(a.FORCE_COLOR,10),3));function o(c){return c===0?!1:{level:c,hasBasic:!0,has256:c>=2,has16m:c>=3}}function l(c,d){if(s===0)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(c&&!d&&s===void 0)return 0;let f=s||0;if(a.TERM==="dumb")return f;if(process.platform==="win32"){let p=n.release().split(".");return Number(p[0])>=10&&Number(p[2])>=10586?Number(p[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(p=>p in a)||a.CI_NAME==="codeship"?1:f;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if(a.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in a){let p=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return p>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:f}function u(c){let d=l(c,c&&c.isTTY);return o(d)}t.exports={supportsColor:u,stdout:o(l(!0,r.isatty(1))),stderr:o(l(!0,r.isatty(2)))}}),zs=oe((e,t)=>{"use strict";var n=Ys(),r=bi();function i(s){if(/^\d{3,4}$/.test(s)){let l=/(\d{1,2})(\d{2})/.exec(s)||[];return{major:0,minor:parseInt(l[1],10),patch:parseInt(l[2],10)}}let o=(s||"").split(".").map(l=>parseInt(l,10));return{major:o[0],minor:o[1],patch:o[2]}}function a(s){let{CI:o,FORCE_HYPERLINK:l,NETLIFY:u,TEAMCITY_VERSION:c,TERM_PROGRAM:d,TERM_PROGRAM_VERSION:f,VTE_VERSION:p,TERM:g}=process.env;if(l)return!(l.length>0&&parseInt(l,10)===0);if(r("no-hyperlink")||r("no-hyperlinks")||r("hyperlink=false")||r("hyperlink=never"))return!1;if(r("hyperlink=true")||r("hyperlink=always")||u)return!0;if(!n.supportsColor(s)||s&&!s.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if(process.platform==="win32"||o||c)return!1;if(d){let m=i(f||"");switch(d){case"iTerm.app":return m.major===3?m.minor>=1:m.major>3;case"WezTerm":return m.major>=20200620;case"vscode":return m.major>1||m.major===1&&m.minor>=72;case"ghostty":return!0}}if(p){if(p==="0.50.0")return!1;let m=i(p);return m.major>0||m.minor>=50}switch(g){case"alacritty":return!0}return!1}t.exports={supportsHyperlink:a,stdout:a(process.stdout),stderr:a(process.stderr)}}),Zs=oe((e,t)=>{t.exports={name:"@prisma/internals",version:"6.19.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-engine-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),Ei=oe((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"2ba551f319ab1df4bc874a89965d8b3641056773"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),Xn=oe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=Ei().prisma.enginesVersion}),Xs=oe((e,t)=>{"use strict";t.exports=n=>{let r=n.match(/^[ \t]*(?=\S)/gm);return r?r.reduce((i,a)=>Math.min(i,a.length),1/0):0}}),_i=oe((e,t)=>{"use strict";t.exports=(n,r=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},typeof n!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof n}\``);if(typeof r!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof r}\``);if(typeof i.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(r===0)return n;let a=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return n.replace(a,i.indent.repeat(r))}}),eo=oe((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),to=oe((e,t)=>{"use strict";var n=require("node:fs"),r=require("node:path"),i=require("node:os"),a=require("node:crypto"),s=eo(),o=s.version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(y){let b={},P=y.toString();P=P.replace(/\r\n?/mg,`
`);let I;for(;(I=l.exec(P))!=null;){let A=I[1],S=I[2]||"";S=S.trim();let O=S[0];S=S.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),O==='"'&&(S=S.replace(/\\n/g,`
`),S=S.replace(/\\r/g,"\r")),b[A]=S}return b}function c(y){let b=m(y),P=_.configDotenv({path:b});if(!P.parsed){let O=new Error(`MISSING_DATA: Cannot parse ${b} for an unknown reason`);throw O.code="MISSING_DATA",O}let I=p(y).split(","),A=I.length,S;for(let O=0;O<A;O++)try{let B=I[O].trim(),C=g(P,B);S=_.decrypt(C.ciphertext,C.key);break}catch(B){if(O+1>=A)throw B}return _.parse(S)}function d(y){console.log(`[dotenv@${o}][WARN] ${y}`)}function f(y){console.log(`[dotenv@${o}][DEBUG] ${y}`)}function p(y){return y&&y.DOTENV_KEY&&y.DOTENV_KEY.length>0?y.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function g(y,b){let P;try{P=new URL(b)}catch(B){if(B.code==="ERR_INVALID_URL"){let C=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw C.code="INVALID_DOTENV_KEY",C}throw B}let I=P.password;if(!I){let B=new Error("INVALID_DOTENV_KEY: Missing key part");throw B.code="INVALID_DOTENV_KEY",B}let A=P.searchParams.get("environment");if(!A){let B=new Error("INVALID_DOTENV_KEY: Missing environment part");throw B.code="INVALID_DOTENV_KEY",B}let S=`DOTENV_VAULT_${A.toUpperCase()}`,O=y.parsed[S];if(!O){let B=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${S} in your .env.vault file.`);throw B.code="NOT_FOUND_DOTENV_ENVIRONMENT",B}return{ciphertext:O,key:I}}function m(y){let b=null;if(y&&y.path&&y.path.length>0)if(Array.isArray(y.path))for(let P of y.path)n.existsSync(P)&&(b=P.endsWith(".vault")?P:`${P}.vault`);else b=y.path.endsWith(".vault")?y.path:`${y.path}.vault`;else b=r.resolve(process.cwd(),".env.vault");return n.existsSync(b)?b:null}function R(y){return y[0]==="~"?r.join(i.homedir(),y.slice(1)):y}function T(y){y&&y.debug&&f("Loading env from encrypted .env.vault");let b=_._parseVault(y),P=process.env;return y&&y.processEnv!=null&&(P=y.processEnv),_.populate(P,b,y),{parsed:b}}function k(y){let b=r.resolve(process.cwd(),".env"),P="utf8",I=!!(y&&y.debug);y&&y.encoding?P=y.encoding:I&&f("No encoding is specified. UTF-8 is used by default");let A=[b];if(y&&y.path)if(!Array.isArray(y.path))A=[R(y.path)];else{A=[];for(let C of y.path)A.push(R(C))}let S,O={};for(let C of A)try{let N=_.parse(n.readFileSync(C,{encoding:P}));_.populate(O,N,y)}catch(N){I&&f(`Failed to load ${C} ${N.message}`),S=N}let B=process.env;return y&&y.processEnv!=null&&(B=y.processEnv),_.populate(B,O,y),S?{parsed:O,error:S}:{parsed:O}}function $(y){if(p(y).length===0)return _.configDotenv(y);let b=m(y);return b?_._configVault(y):(d(`You set DOTENV_KEY but you are missing a .env.vault file at ${b}. Did you forget to build it?`),_.configDotenv(y))}function M(y,b){let P=Buffer.from(b.slice(-64),"hex"),I=Buffer.from(y,"base64"),A=I.subarray(0,12),S=I.subarray(-16);I=I.subarray(12,-16);try{let O=a.createDecipheriv("aes-256-gcm",P,A);return O.setAuthTag(S),`${O.update(I)}${O.final()}`}catch(O){let B=O instanceof RangeError,C=O.message==="Invalid key length",N=O.message==="Unsupported state or unable to authenticate data";if(B||C){let rt=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw rt.code="INVALID_DOTENV_KEY",rt}else if(N){let rt=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw rt.code="DECRYPTION_FAILED",rt}else throw O}}function ie(y,b,P={}){let I=!!(P&&P.debug),A=!!(P&&P.override);if(typeof b!="object"){let S=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw S.code="OBJECT_REQUIRED",S}for(let S of Object.keys(b))Object.prototype.hasOwnProperty.call(y,S)?(A===!0&&(y[S]=b[S]),I&&f(A===!0?`"${S}" is already defined and WAS overwritten`:`"${S}" is already defined and was NOT overwritten`)):y[S]=b[S]}var _={configDotenv:k,_configVault:T,_parseVault:c,config:$,decrypt:M,parse:u,populate:ie};t.exports.configDotenv=_.configDotenv,t.exports._configVault=_._configVault,t.exports._parseVault=_._parseVault,t.exports.config=_.config,t.exports.decrypt=_.decrypt,t.exports.parse=_.parse,t.exports.populate=_.populate,t.exports=_}),no=oe((e,t)=>{"use strict";t.exports=(n={})=>{let r;if(n.repoUrl)r=n.repoUrl;else if(n.user&&n.repo)r=`https://github.com/${n.user}/${n.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let i=new URL(`${r}/issues/new`),a=["body","title","labels","template","milestone","assignee","projects"];for(let s of a){let o=n[s];if(o!==void 0){if(s==="labels"||s==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${s}\` option should be an array`);o=o.join(",")}i.searchParams.set(s,o)}}return i.toString()},t.exports.default=t.exports}),Pi=oe((e,t)=>{"use strict";t.exports=(function(){function n(r,i,a,s,o){return r<i||a<i?r>a?a+1:r+1:s===o?i:i+1}return function(r,i){if(r===i)return 0;if(r.length>i.length){var a=r;r=i,i=a}for(var s=r.length,o=i.length;s>0&&r.charCodeAt(s-1)===i.charCodeAt(o-1);)s--,o--;for(var l=0;l<s&&r.charCodeAt(l)===i.charCodeAt(l);)l++;if(s-=l,o-=l,s===0||o<3)return o;var u=0,c,d,f,p,g,m,R,T,k,$,M,ie,_=[];for(c=0;c<s;c++)_.push(c+1),_.push(r.charCodeAt(l+c));for(var y=_.length-1;u<o-3;)for(k=i.charCodeAt(l+(d=u)),$=i.charCodeAt(l+(f=u+1)),M=i.charCodeAt(l+(p=u+2)),ie=i.charCodeAt(l+(g=u+3)),m=u+=4,c=0;c<y;c+=2)R=_[c],T=_[c+1],d=n(R,d,f,k,T),f=n(d,f,p,$,T),p=n(f,p,g,M,T),m=n(p,g,m,ie,T),_[c]=m,g=p,p=f,f=d,d=R;for(;u<o;)for(k=i.charCodeAt(l+(d=u)),m=++u,c=0;c<y;c+=2)R=_[c],_[c]=m=n(R,d,m,k,_[c+1]),d=R;return m}})()}),ro=wi(()=>{"use strict"}),io=wi(()=>{"use strict"}),xi={};He(xi,{DMMF:()=>da,Debug:()=>ee,Decimal:()=>an,Extensions:()=>Si,MetricsClient:()=>Ua,PrismaClientInitializationError:()=>W,PrismaClientKnownRequestError:()=>Ce,PrismaClientRustPanicError:()=>De,PrismaClientUnknownRequestError:()=>ae,PrismaClientValidationError:()=>xe,Public:()=>Ri,Sql:()=>je,createParam:()=>cd,defineDmmfProperty:()=>Ed,deserializeJsonResponse:()=>zt,deserializeRawResult:()=>xs,dmmfToRuntimeDataModel:()=>hu,empty:()=>Nd,getPrismaClient:()=>vh,getRuntime:()=>ns,join:()=>$d,makeStrictEnum:()=>_h,makeTypedQueryFactory:()=>Pd,objectEnumValues:()=>Ra,raw:()=>Ba,serializeJsonQuery:()=>Fa,skip:()=>Ia,sqltag:()=>kd,warnEnvConflicts:()=>Ph,warnOnce:()=>zi});Ts.exports=Qs(xi);var Si={};He(Si,{defineExtension:()=>ao,getExtensionContext:()=>so});function ao(e){return typeof e=="function"?e:t=>t.$extends(e)}function so(e){return e}var Ri={};He(Ri,{validator:()=>oo});function oo(...e){return t=>t}var _n={};He(_n,{$:()=>Ai,bgBlack:()=>wo,bgBlue:()=>_o,bgCyan:()=>xo,bgGreen:()=>bo,bgMagenta:()=>Po,bgRed:()=>vo,bgWhite:()=>So,bgYellow:()=>Eo,black:()=>ho,blue:()=>lt,bold:()=>ce,cyan:()=>Me,dim:()=>Et,gray:()=>er,green:()=>ht,grey:()=>yo,hidden:()=>fo,inverse:()=>co,italic:()=>uo,magenta:()=>mo,red:()=>Be,reset:()=>lo,strikethrough:()=>po,underline:()=>se,white:()=>go,yellow:()=>_t});var Pn,Ti,$i,Ni,ki=!0;typeof process<"u"&&({FORCE_COLOR:Pn,NODE_DISABLE_COLORS:Ti,NO_COLOR:$i,TERM:Ni}=process.env||{},ki=process.stdout&&process.stdout.isTTY);var Ai={enabled:!Ti&&$i==null&&Ni!=="dumb"&&(Pn!=null&&Pn!=="0"||ki)};function j(e,t){let n=new RegExp(`\\x1b\\[${t}m`,"g"),r=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(a){return!Ai.enabled||a==null?a:r+(~(""+a).indexOf(i)?a.replace(n,i+r):a)+i}}var lo=j(0,0),ce=j(1,22),Et=j(2,22),uo=j(3,23),se=j(4,24),co=j(7,27),fo=j(8,28),po=j(9,29),ho=j(30,39),Be=j(31,39),ht=j(32,39),_t=j(33,39),lt=j(34,39),mo=j(35,39),Me=j(36,39),go=j(37,39),er=j(90,39),yo=j(90,39),wo=j(40,49),vo=j(41,49),bo=j(42,49),Eo=j(43,49),_o=j(44,49),Po=j(45,49),xo=j(46,49),So=j(47,49),Ro=100,Tr=["green","yellow","blue","magenta","cyan","red"],ut=[],$r=Date.now(),To=0,xn=typeof process<"u"?process.env:{};globalThis.DEBUG??=xn.DEBUG??"";globalThis.DEBUG_COLORS??=xn.DEBUG_COLORS?xn.DEBUG_COLORS==="true":!0;var ct={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),n=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),r=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return n&&!r},log:(...e)=>{let[t,n,...r]=e;(console.warn??console.log)(`${t} ${n}`,...r)},formatters:{}};function $o(e){let t={color:Tr[To++%Tr.length],enabled:ct.enabled(e),namespace:e,log:ct.log,extend:()=>{}},n=(...r)=>{let{enabled:i,namespace:a,color:s,log:o}=t;if(r.length!==0&&ut.push([a,...r]),ut.length>Ro&&ut.shift(),ct.enabled(a)||i){let l=r.map(c=>typeof c=="string"?c:No(c)),u=`+${Date.now()-$r}ms`;$r=Date.now(),globalThis.DEBUG_COLORS?o(_n[s](ce(a)),...l,_n[s](u)):o(a,...l,u)}};return new Proxy(n,{get:(r,i)=>t[i],set:(r,i,a)=>t[i]=a})}var ee=new Proxy($o,{get:(e,t)=>ct[t],set:(e,t,n)=>ct[t]=n});function No(e,t=2){let n=new Set;return JSON.stringify(e,(r,i)=>{if(typeof i=="object"&&i!==null){if(n.has(i))return"[Circular *]";n.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function ko(e=7500){let t=ut.map(([n,...r])=>`${n} ${r.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function Ao(){ut.length=0}var tr=ee,Oo=F(require("node:fs"));function qo(){let e=process.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(e&&Oo.default.existsSync(e))&&process.arch==="ia32")throw new Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var Do=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],kt="libquery_engine";function Io(e,t){let n=t==="url";return e.includes("windows")?n?"query_engine.dll.node":`query_engine-${e}.dll.node`:e.includes("darwin")?n?`${kt}.dylib.node`:`${kt}-${e}.dylib.node`:n?`${kt}.so.node`:`${kt}-${e}.so.node`}var Co=F(require("node:child_process")),Oi=F(require("node:fs/promises")),Sn=F(require("node:os")),Re=Symbol.for("@ts-pattern/matcher"),Fo=Symbol.for("@ts-pattern/isVariadic"),Gt="@ts-pattern/anonymous-select-key",Rn=e=>!!(e&&typeof e=="object"),Ct=e=>e&&!!e[Re],ye=(e,t,n)=>{if(Ct(e)){let r=e[Re](),{matched:i,selections:a}=r.match(t);return i&&a&&Object.keys(a).forEach(s=>n(s,a[s])),i}if(Rn(e)){if(!Rn(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let r=[],i=[],a=[];for(let s of e.keys()){let o=e[s];Ct(o)&&o[Fo]?a.push(o):a.length?i.push(o):r.push(o)}if(a.length){if(a.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<r.length+i.length)return!1;let s=t.slice(0,r.length),o=i.length===0?[]:t.slice(-i.length),l=t.slice(r.length,i.length===0?1/0:-i.length);return r.every((u,c)=>ye(u,s[c],n))&&i.every((u,c)=>ye(u,o[c],n))&&(a.length===0||ye(a[0],l,n))}return e.length===t.length&&e.every((s,o)=>ye(s,t[o],n))}return Reflect.ownKeys(e).every(r=>{let i=e[r];return(r in t||Ct(a=i)&&a[Re]().matcherType==="optional")&&ye(i,t[r],n);var a})}return Object.is(t,e)},Ie=e=>{var t,n,r;return Rn(e)?Ct(e)?(t=(n=(r=e[Re]()).getSelectionKeys)==null?void 0:n.call(r))!=null?t:[]:Array.isArray(e)?mt(e,Ie):mt(Object.values(e),Ie):[]},mt=(e,t)=>e.reduce((n,r)=>n.concat(t(r)),[]);function le(e){return Object.assign(e,{optional:()=>Vo(e),and:t=>G(e,t),or:t=>jo(e,t),select:t=>t===void 0?Nr(e):Nr(t,e)})}function Vo(e){return le({[Re]:()=>({match:t=>{let n={},r=(i,a)=>{n[i]=a};return t===void 0?(Ie(e).forEach(i=>r(i,void 0)),{matched:!0,selections:n}):{matched:ye(e,t,r),selections:n}},getSelectionKeys:()=>Ie(e),matcherType:"optional"})})}function G(...e){return le({[Re]:()=>({match:t=>{let n={},r=(i,a)=>{n[i]=a};return{matched:e.every(i=>ye(i,t,r)),selections:n}},getSelectionKeys:()=>mt(e,Ie),matcherType:"and"})})}function jo(...e){return le({[Re]:()=>({match:t=>{let n={},r=(i,a)=>{n[i]=a};return mt(e,Ie).forEach(i=>r(i,void 0)),{matched:e.some(i=>ye(i,t,r)),selections:n}},getSelectionKeys:()=>mt(e,Ie),matcherType:"or"})})}function q(e){return{[Re]:()=>({match:t=>({matched:!!e(t)})})}}function Nr(...e){let t=typeof e[0]=="string"?e[0]:void 0,n=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return le({[Re]:()=>({match:r=>{let i={[t??Gt]:r};return{matched:n===void 0||ye(n,r,(a,s)=>{i[a]=s}),selections:i}},getSelectionKeys:()=>[t??Gt].concat(n===void 0?[]:Ie(n))})})}function he(e){return typeof e=="number"}function $e(e){return typeof e=="string"}function Ne(e){return typeof e=="bigint"}var Gh=le(q(function(e){return!0})),ke=e=>Object.assign(le(e),{startsWith:t=>{return ke(G(e,(n=t,q(r=>$e(r)&&r.startsWith(n)))));var n},endsWith:t=>{return ke(G(e,(n=t,q(r=>$e(r)&&r.endsWith(n)))));var n},minLength:t=>ke(G(e,(n=>q(r=>$e(r)&&r.length>=n))(t))),length:t=>ke(G(e,(n=>q(r=>$e(r)&&r.length===n))(t))),maxLength:t=>ke(G(e,(n=>q(r=>$e(r)&&r.length<=n))(t))),includes:t=>{return ke(G(e,(n=t,q(r=>$e(r)&&r.includes(n)))));var n},regex:t=>{return ke(G(e,(n=t,q(r=>$e(r)&&!!r.match(n)))));var n}}),Hh=ke(q($e)),me=e=>Object.assign(le(e),{between:(t,n)=>me(G(e,((r,i)=>q(a=>he(a)&&r<=a&&i>=a))(t,n))),lt:t=>me(G(e,(n=>q(r=>he(r)&&r<n))(t))),gt:t=>me(G(e,(n=>q(r=>he(r)&&r>n))(t))),lte:t=>me(G(e,(n=>q(r=>he(r)&&r<=n))(t))),gte:t=>me(G(e,(n=>q(r=>he(r)&&r>=n))(t))),int:()=>me(G(e,q(t=>he(t)&&Number.isInteger(t)))),finite:()=>me(G(e,q(t=>he(t)&&Number.isFinite(t)))),positive:()=>me(G(e,q(t=>he(t)&&t>0))),negative:()=>me(G(e,q(t=>he(t)&&t<0)))}),Wh=me(q(he)),Ae=e=>Object.assign(le(e),{between:(t,n)=>Ae(G(e,((r,i)=>q(a=>Ne(a)&&r<=a&&i>=a))(t,n))),lt:t=>Ae(G(e,(n=>q(r=>Ne(r)&&r<n))(t))),gt:t=>Ae(G(e,(n=>q(r=>Ne(r)&&r>n))(t))),lte:t=>Ae(G(e,(n=>q(r=>Ne(r)&&r<=n))(t))),gte:t=>Ae(G(e,(n=>q(r=>Ne(r)&&r>=n))(t))),positive:()=>Ae(G(e,q(t=>Ne(t)&&t>0))),negative:()=>Ae(G(e,q(t=>Ne(t)&&t<0)))}),Kh=Ae(q(Ne)),Jh=le(q(function(e){return typeof e=="boolean"})),Qh=le(q(function(e){return typeof e=="symbol"})),Yh=le(q(function(e){return e==null})),zh=le(q(function(e){return e!=null})),Uo=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},Tn={matched:!1,value:void 0};function Xt(e){return new Lo(e,Tn)}var Lo=class $n{constructor(t,n){this.input=void 0,this.state=void 0,this.input=t,this.state=n}with(...t){if(this.state.matched)return this;let n=t[t.length-1],r=[t[0]],i;t.length===3&&typeof t[1]=="function"?i=t[1]:t.length>2&&r.push(...t.slice(1,t.length-1));let a=!1,s={},o=(u,c)=>{a=!0,s[u]=c},l=!r.some(u=>ye(u,this.input,o))||i&&!i(this.input)?Tn:{matched:!0,value:n(a?Gt in s?s[Gt]:s:this.input,this.input)};return new $n(this.input,l)}when(t,n){if(this.state.matched)return this;let r=!!t(this.input);return new $n(this.input,r?{matched:!0,value:n(this.input,this.input)}:Tn)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new Uo(this.input)}run(){return this.exhaustive()}returnType(){return this}},Mo=require("node:util"),Bo={warn:_t("prisma:warn")},Go={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function fn(e,...t){Go.warn()&&console.warn(`${Bo.warn} ${e}`,...t)}var Ho=(0,Mo.promisify)(Co.default.exec),X=tr("prisma:get-platform"),Wo=["1.0.x","1.1.x","3.0.x"];async function Ko(){let e=Sn.default.platform(),t=process.arch;if(e==="freebsd"){let s=await Ht("freebsd-version");if(s&&s.trim().length>0){let o=/^(\d+)\.?/.exec(s);if(o)return{platform:"freebsd",targetDistro:`freebsd${o[1]}`,arch:t}}}if(e!=="linux")return{platform:e,arch:t};let n=await Qo(),r=await il(),i=zo({arch:t,archFromUname:r,familyDistro:n.familyDistro}),{libssl:a}=await Zo(i);return{platform:"linux",libssl:a,arch:t,archFromUname:r,...n}}function Jo(e){let t=/^ID="?([^"\n]*)"?$/im,n=/^ID_LIKE="?([^"\n]*)"?$/im,r=t.exec(e),i=r&&r[1]&&r[1].toLowerCase()||"",a=n.exec(e),s=a&&a[1]&&a[1].toLowerCase()||"",o=Xt({id:i,idLike:s}).with({id:"alpine"},({id:l})=>({targetDistro:"musl",familyDistro:l,originalDistro:l})).with({id:"raspbian"},({id:l})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:l})).with({id:"nixos"},({id:l})=>({targetDistro:"nixos",originalDistro:l,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:l})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:l})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:l})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:l})).when(({idLike:l})=>l.includes("debian")||l.includes("ubuntu"),({id:l})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:l})).when(({idLike:l})=>i==="arch"||l.includes("arch"),({id:l})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:l})).when(({idLike:l})=>l.includes("centos")||l.includes("fedora")||l.includes("rhel")||l.includes("suse"),({id:l})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:l})).otherwise(({id:l})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:l}));return X(`Found distro info:
${JSON.stringify(o,null,2)}`),o}async function Qo(){let e="/etc/os-release";try{let t=await Oi.default.readFile(e,{encoding:"utf-8"});return Jo(t)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function Yo(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t){let n=`${t[1]}.x`;return qi(n)}}function kr(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t){let n=`${t[1]}${t[2]??".0"}.x`;return qi(n)}}function qi(e){let t=(()=>{if(Ii(e))return e;let n=e.split(".");return n[1]="0",n.join(".")})();if(Wo.includes(t))return t}function zo(e){return Xt(e).with({familyDistro:"musl"},()=>(X('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:t})=>(X('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${t}-linux-gnu`,`/lib/${t}-linux-gnu`])).with({familyDistro:"rhel"},()=>(X('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:t,arch:n,archFromUname:r})=>(X(`Don't know any platform-specific paths for "${t}" on ${n} (${r})`),[]))}async function Zo(e){let t='grep -v "libssl.so.0"',n=await Ar(e);if(n){X(`Found libssl.so file using platform-specific paths: ${n}`);let a=kr(n);if(X(`The parsed libssl version is: ${a}`),a)return{libssl:a,strategy:"libssl-specific-path"}}X('Falling back to "ldconfig" and other generic paths');let r=await Ht(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${t}`);if(r||(r=await Ar(["/lib64","/usr/lib64","/lib","/usr/lib"])),r){X(`Found libssl.so file using "ldconfig" or other generic paths: ${r}`);let a=kr(r);if(X(`The parsed libssl version is: ${a}`),a)return{libssl:a,strategy:"ldconfig"}}let i=await Ht("openssl version -v");if(i){X(`Found openssl binary with version: ${i}`);let a=Yo(i);if(X(`The parsed openssl version is: ${a}`),a)return{libssl:a,strategy:"openssl-binary"}}return X("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function Ar(e){for(let t of e){let n=await Xo(t);if(n)return n}}async function Xo(e){try{return(await Oi.default.readdir(e)).find(t=>t.startsWith("libssl.so.")&&!t.startsWith("libssl.so.0"))}catch(t){if(t.code==="ENOENT")return;throw t}}async function nr(){let{binaryTarget:e}=await Di();return e}function el(e){return e.binaryTarget!==void 0}async function tl(){let{memoized:e,...t}=await Di();return t}var At={};async function Di(){if(el(At))return Promise.resolve({...At,memoized:!0});let e=await Ko(),t=nl(e);return At={...e,binaryTarget:t},{...At,memoized:!1}}function nl(e){let{platform:t,arch:n,archFromUname:r,libssl:i,targetDistro:a,familyDistro:s,originalDistro:o}=e;t==="linux"&&!["x64","arm64"].includes(n)&&fn(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${n}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${r}".`);let l="1.1.x";if(t==="linux"&&i===void 0){let c=Xt({familyDistro:s}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");fn(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${c}`)}let u="debian";if(t==="linux"&&a===void 0&&X(`Distro is "${o}". Falling back to Prisma engines built for "${u}".`),t==="darwin"&&n==="arm64")return"darwin-arm64";if(t==="darwin")return"darwin";if(t==="win32")return"windows";if(t==="freebsd")return a;if(t==="openbsd")return"openbsd";if(t==="netbsd")return"netbsd";if(t==="linux"&&a==="nixos")return"linux-nixos";if(t==="linux"&&n==="arm64")return`${a==="musl"?"linux-musl-arm64":"linux-arm64"}-openssl-${i||l}`;if(t==="linux"&&n==="arm")return`linux-arm-openssl-${i||l}`;if(t==="linux"&&a==="musl"){let c="linux-musl";return!i||Ii(i)?c:`${c}-openssl-${i}`}return t==="linux"&&a&&i?`${a}-openssl-${i}`:(t!=="linux"&&fn(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),i?`${u}-openssl-${i}`:a?`${a}-openssl-${l}`:`${u}-openssl-${l}`)}async function rl(e){try{return await e()}catch{return}}function Ht(e){return rl(async()=>{let t=await Ho(e);return X(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function il(){return typeof Sn.default.machine=="function"?Sn.default.machine():(await Ht("uname -m"))?.trim()}function Ii(e){return e.startsWith("1.")}var Ci={};He(Ci,{beep:()=>kl,clearScreen:()=>Rl,clearTerminal:()=>Tl,cursorBackward:()=>dl,cursorDown:()=>ul,cursorForward:()=>cl,cursorGetPosition:()=>hl,cursorHide:()=>yl,cursorLeft:()=>ji,cursorMove:()=>ll,cursorNextLine:()=>ml,cursorPrevLine:()=>gl,cursorRestorePosition:()=>pl,cursorSavePosition:()=>fl,cursorShow:()=>wl,cursorTo:()=>ol,cursorUp:()=>Vi,enterAlternativeScreen:()=>$l,eraseDown:()=>_l,eraseEndLine:()=>bl,eraseLine:()=>Ui,eraseLines:()=>vl,eraseScreen:()=>Nn,eraseStartLine:()=>El,eraseUp:()=>Pl,exitAlternativeScreen:()=>Nl,iTerm:()=>ql,image:()=>Ol,link:()=>Al,scrollDown:()=>Sl,scrollUp:()=>xl});var rr=F(require("node:process"),1),ir=globalThis.window?.document!==void 0,Zh=globalThis.process?.versions?.node!==void 0,Xh=globalThis.process?.versions?.bun!==void 0,em=globalThis.Deno?.version?.deno!==void 0,tm=globalThis.process?.versions?.electron!==void 0,nm=globalThis.navigator?.userAgent?.includes("jsdom")===!0,rm=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,im=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,am=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,sm=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,Pt=globalThis.navigator?.userAgentData?.platform,om=Pt==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",lm=Pt==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",um=Pt==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",cm=Pt==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),dm=Pt==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android",D="\x1B[",gt="\x1B]",Ye="\x07",st=";",Fi=!ir&&rr.default.env.TERM_PROGRAM==="Apple_Terminal",al=!ir&&rr.default.platform==="win32",sl=ir?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:rr.default.cwd,ol=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?D+(e+1)+"G":D+(t+1)+st+(e+1)+"H"},ll=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let n="";return e<0?n+=D+-e+"D":e>0&&(n+=D+e+"C"),t<0?n+=D+-t+"A":t>0&&(n+=D+t+"B"),n},Vi=(e=1)=>D+e+"A",ul=(e=1)=>D+e+"B",cl=(e=1)=>D+e+"C",dl=(e=1)=>D+e+"D",ji=D+"G",fl=Fi?"\x1B7":D+"s",pl=Fi?"\x1B8":D+"u",hl=D+"6n",ml=D+"E",gl=D+"F",yl=D+"?25l",wl=D+"?25h",vl=e=>{let t="";for(let n=0;n<e;n++)t+=Ui+(n<e-1?Vi():"");return e&&(t+=ji),t},bl=D+"K",El=D+"1K",Ui=D+"2K",_l=D+"J",Pl=D+"1J",Nn=D+"2J",xl=D+"S",Sl=D+"T",Rl="\x1Bc",Tl=al?`${Nn}${D}0f`:`${Nn}${D}3J${D}H`,$l=D+"?1049h",Nl=D+"?1049l",kl=Ye,Al=(e,t)=>[gt,"8",st,st,t,Ye,e,gt,"8",st,st,Ye].join(""),Ol=(e,t={})=>{let n=`${gt}1337;File=inline=1`;return t.width&&(n+=`;width=${t.width}`),t.height&&(n+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+Buffer.from(e).toString("base64")+Ye},ql={setCwd:(e=sl())=>`${gt}50;CurrentDir=${e}${Ye}`,annotation(e,t={}){let n=`${gt}1337;`,r=t.x!==void 0,i=t.y!==void 0;if((r||i)&&!(r&&i&&t.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),n+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?n+=(r?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):n+=e,n+Ye}},ar=F(zs(),1);function yt(e,t,{target:n="stdout",...r}={}){return ar.default[n]?Ci.link(e,t):r.fallback===!1?e:typeof r.fallback=="function"?r.fallback(e,t):`${e} (\u200B${t}\u200B)`}yt.isSupported=ar.default.stdout;yt.stderr=(e,t,n={})=>yt(e,t,{target:"stderr",...n});yt.stderr.isSupported=ar.default.stderr;function Dl(e){return yt(e,e,{fallback:se})}var Il=Zs(),Cl=Il.version;function kn(e){return Fl()||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":Vl())}function Fl(){let e=process.env.PRISMA_CLIENT_ENGINE_TYPE;return e==="library"?"library":e==="binary"?"binary":e==="client"?"client":void 0}function Vl(){return"library"}function Li(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}function sr(e){return{ok:!0,value:e,map(t){return sr(t(e))},flatMap(t){return t(e)}}}function ze(e){return{ok:!1,error:e,map(){return ze(e)},flatMap(){return ze(e)}}}var Mi=ee("driver-adapter-utils"),jl=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;this.registeredErrors[t]!==void 0;)t++;return this.registeredErrors[t]={error:e},t}},Or=(e,t=new jl)=>{let n={adapterName:e.adapterName,errorRegistry:t,queryRaw:Pe(t,e.queryRaw.bind(e)),executeRaw:Pe(t,e.executeRaw.bind(e)),executeScript:Pe(t,e.executeScript.bind(e)),dispose:Pe(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...r)=>(await Pe(t,e.startTransaction.bind(e))(...r)).map(i=>Ul(t,i))};return e.getConnectionInfo&&(n.getConnectionInfo=Ll(t,e.getConnectionInfo.bind(e))),n},Ul=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:Pe(e,t.queryRaw.bind(t)),executeRaw:Pe(e,t.executeRaw.bind(t)),commit:Pe(e,t.commit.bind(t)),rollback:Pe(e,t.rollback.bind(t))});function Pe(e,t){return async(...n)=>{try{return sr(await t(...n))}catch(r){if(Mi("[error@wrapAsync]",r),Li(r))return ze(r.cause);let i=e.registerNewError(r);return ze({kind:"GenericJs",id:i})}}}function Ll(e,t){return(...n)=>{try{return sr(t(...n))}catch(r){if(Mi("[error@wrapSync]",r),Li(r))return ze(r.cause);let i=e.registerNewError(r);return ze({kind:"GenericJs",id:i})}}}var fm=F(Xn()),L=F(require("node:path")),pm=F(Xn()),hm=ee("prisma:engines");function Ml(){return L.default.join(__dirname,"../")}L.default.join(__dirname,"../query-engine-darwin");L.default.join(__dirname,"../query-engine-darwin-arm64");L.default.join(__dirname,"../query-engine-debian-openssl-1.0.x");L.default.join(__dirname,"../query-engine-debian-openssl-1.1.x");L.default.join(__dirname,"../query-engine-debian-openssl-3.0.x");L.default.join(__dirname,"../query-engine-linux-static-x64");L.default.join(__dirname,"../query-engine-linux-static-arm64");L.default.join(__dirname,"../query-engine-rhel-openssl-1.0.x");L.default.join(__dirname,"../query-engine-rhel-openssl-1.1.x");L.default.join(__dirname,"../query-engine-rhel-openssl-3.0.x");L.default.join(__dirname,"../libquery_engine-darwin.dylib.node");L.default.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node");L.default.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node");L.default.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node");L.default.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node");L.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node");L.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node");L.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node");L.default.join(__dirname,"../libquery_engine-linux-musl.so.node");L.default.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node");L.default.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node");L.default.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node");L.default.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node");L.default.join(__dirname,"../query_engine-windows.dll.node");var qr=F(require("node:fs")),Dr=tr("chmodPlusX");function Bl(e){if(process.platform==="win32")return;let t=qr.default.statSync(e),n=t.mode|64|8|1;if(t.mode===n){Dr(`Execution permissions of ${e} are fine`);return}let r=n.toString(8).slice(-3);Dr(`Have to call chmodPlusX on ${e}`),qr.default.chmodSync(e,r)}function Gl(e){let t=e.e,n=o=>`Prisma cannot find the required \`${o}\` system library in your system`,r=t.message.includes("cannot open shared object file"),i=`Please refer to the documentation about Prisma's system requirements: ${Dl("https://pris.ly/d/system-requirements")}`,a=`Unable to require(\`${Et(e.id)}\`).`,s=Xt({message:t.message,code:t.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:o})=>r&&o.includes("libz"),()=>`${n("libz")}. Please install it and try again.`).when(({message:o})=>r&&o.includes("libgcc_s"),()=>`${n("libgcc_s")}. Please install it and try again.`).when(({message:o})=>r&&o.includes("libssl"),()=>{let o=e.platformInfo.libssl?`openssl-${e.platformInfo.libssl}`:"openssl";return`${n("libssl")}. Please install ${o} and try again.`}).when(({message:o})=>o.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${i}`).when(({message:o})=>e.platformInfo.platform==="linux"&&o.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${e.platformInfo.originalDistro} on (${e.platformInfo.archFromUname}) which uses the \`${e.platformInfo.binaryTarget}\` binaryTarget by default. ${i}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${i}`);return`${a}
${s}

Details: ${t.message}`}var Hl=F(Xs(),1);function Wl(e){let t=(0,Hl.default)(e);if(t===0)return e;let n=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(n,"")}var Kl="prisma+postgres",Bi=`${Kl}:`;function Gi(e){return e?.toString().startsWith(`${Bi}//`)??!1}function Jl(e){if(!Gi(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var Ql=F(_i());function Yl(e){return String(new zl(e))}var zl=class{constructor(e){this.config=e}toString(){let{config:e}=this,t=e.provider.fromEnvVar?`env("${e.provider.fromEnvVar}")`:e.provider.value,n=JSON.parse(JSON.stringify({provider:t,binaryTargets:Zl(e.binaryTargets)}));return`generator ${e.name} {
${(0,Ql.default)(Xl(n),2)}
}`}};function Zl(e){let t;if(e.length>0){let n=e.find(r=>r.fromEnvVar!==null);n?t=`env("${n.fromEnvVar}")`:t=e.map(r=>r.native?"native":r.value)}else t=void 0;return t}function Xl(e){let t=Object.keys(e).reduce((n,r)=>Math.max(n,r.length),0);return Object.entries(e).map(([n,r])=>`${n.padEnd(t)} = ${eu(r)}`).join(`
`)}function eu(e){return JSON.parse(JSON.stringify(e,(t,n)=>Array.isArray(n)?`[${n.map(r=>JSON.stringify(r)).join(", ")}]`:JSON.stringify(n)))}var An={};He(An,{error:()=>ru,info:()=>nu,log:()=>tu,query:()=>iu,should:()=>Hi,tags:()=>xt,warn:()=>Wi});var xt={error:Be("prisma:error"),warn:_t("prisma:warn"),info:Me("prisma:info"),query:lt("prisma:query")},Hi={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function tu(...e){console.log(...e)}function Wi(e,...t){Hi.warn()&&console.warn(`${xt.warn} ${e}`,...t)}function nu(e,...t){console.info(`${xt.info} ${e}`,...t)}function ru(e,...t){console.error(`${xt.error} ${e}`,...t)}function iu(e,...t){console.log(`${xt.query} ${e}`,...t)}function Ir(e,t){if(!e)throw new Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function or(e,t){throw new Error(t)}function au({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var su=au();function On(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(su,"")}var Ot=F(require("node:path"));function ou(e){return Ot.default.sep===Ot.default.posix.sep?e:e.split(Ot.default.sep).join(Ot.default.posix.sep)}var Ki=F(to()),qn=F(require("node:fs")),wt=F(require("node:path"));function lu(e){let t=e.ignoreProcessEnv?{}:process.env,n=r=>r.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(i,a){let s=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(a);if(!s)return i;let o=s[1],l,u;if(o==="\\")u=s[0],l=u.replace("\\$","$");else{let c=s[2];u=s[0].substring(o.length),l=Object.hasOwnProperty.call(t,c)?t[c]:e.parsed[c]||"",l=n(l)}return i.replace(u,l)},r)??r;for(let r in e.parsed){let i=Object.hasOwnProperty.call(t,r)?t[r]:e.parsed[r];e.parsed[r]=n(i)}for(let r in e.parsed)t[r]=e.parsed[r];return e}var Dn=tr("prisma:tryLoadEnv");function Ji({rootEnvPath:e,schemaEnvPath:t},n={conflictCheck:"none"}){let r=Cr(e);n.conflictCheck!=="none"&&uu(r,t,n.conflictCheck);let i=null;return Qi(r?.path,t)||(i=Cr(t)),!r&&!i&&Dn("No Environment variables loaded"),i?.dotenvResult.error?console.error(Be(ce("Schema Env Error: "))+i.dotenvResult.error):{message:[r?.message,i?.message].filter(Boolean).join(`
`),parsed:{...r?.dotenvResult?.parsed,...i?.dotenvResult?.parsed}}}function uu(e,t,n){let r=e?.dotenvResult.parsed,i=!Qi(e?.path,t);if(r&&t&&i&&qn.default.existsSync(t)){let a=Ki.default.parse(qn.default.readFileSync(t)),s=[];for(let o in a)r[o]===a[o]&&s.push(o);if(s.length>0){let o=wt.default.relative(process.cwd(),e.path),l=wt.default.relative(process.cwd(),t);if(n==="error"){let u=`There is a conflict between env var${s.length>1?"s":""} in ${se(o)} and ${se(l)}
Conflicting env vars:
${s.map(c=>`  ${ce(c)}`).join(`
`)}

We suggest to move the contents of ${se(l)} to ${se(o)} to consolidate your env vars.
`;throw new Error(u)}else if(n==="warn"){let u=`Conflict for env var${s.length>1?"s":""} ${s.map(c=>ce(c)).join(", ")} in ${se(o)} and ${se(l)}
Env vars from ${se(l)} overwrite the ones from ${se(o)}
      `;console.warn(`${_t("warn(prisma)")} ${u}`)}}}}function Cr(e){if(cu(e)){Dn(`Environment variables loaded from ${e}`);let t=Ki.default.config({path:e,debug:process.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:lu(t),message:Et(`Environment variables loaded from ${wt.default.relative(process.cwd(),e)}`),path:e}}else Dn(`Environment variables not found at ${e}`);return null}function Qi(e,t){return e&&t&&wt.default.resolve(e)===wt.default.resolve(t)}function cu(e){return!!(e&&qn.default.existsSync(e))}function du(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yi(e,t){let n={};for(let r of Object.keys(e))n[r]=t(e[r],r);return n}function fu(e,t){if(e.length===0)return;let n=e[0];for(let r=1;r<e.length;r++)t(n,e[r])<0&&(n=e[r]);return n}function H(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Fr=new Set,zi=(e,t,...n)=>{Fr.has(e)||(Fr.add(e),Wi(t,...n))},W=class Zi extends Error{clientVersion;errorCode;retryable;constructor(t,n,r){super(t),this.name="PrismaClientInitializationError",this.clientVersion=n,this.errorCode=r,Error.captureStackTrace(Zi)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};H(W,"PrismaClientInitializationError");var Ce=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:n,meta:r,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=n,this.meta=r,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};H(Ce,"PrismaClientKnownRequestError");var De=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};H(De,"PrismaClientRustPanicError");var ae=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:n}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:n,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};H(ae,"PrismaClientUnknownRequestError");var xe=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};H(xe,"PrismaClientValidationError");var dt=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let n=this._map.get(e);if(n)return n.value;let r=t();return this.set(e,r),r}};function en(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function pu(e,t){let n={};for(let r of e){let i=r[t];n[i]=r}return n}function In(e){let t;return{get(){return t||(t={value:e()}),t.value}}}function hu(e){return{models:pn(e.models),enums:pn(e.enums),types:pn(e.types)}}function pn(e){let t={};for(let{name:n,...r}of e)t[n]=r;return t}function lr(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Xi(e){return e.toString()!=="Invalid Date"}var Qe=9e15,Ve=1e9,Cn="0123456789abcdef",Wt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Kt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Fn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Qe,maxE:Qe,crypto:!1},ea,Se,E=!0,tn="[DecimalError] ",Fe=tn+"Invalid argument: ",ta=tn+"Precision limit exceeded",na=tn+"crypto unavailable",ra="[object Decimal]",z=Math.floor,Q=Math.pow,mu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,gu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,yu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ia=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,de=1e7,v=7,wu=9007199254740991,vu=Wt.length-1,Vn=Kt.length-1,h={toStringTag:ra};h.absoluteValue=h.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),w(e)};h.ceil=function(){return w(new this.constructor(this),this.e+1,2)};h.clampedTo=h.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Fe+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};h.comparedTo=h.cmp=function(e){var t,n,r,i,a=this,s=a.d,o=(e=new a.constructor(e)).d,l=a.s,u=e.s;if(!s||!o)return!l||!u?NaN:l!==u?l:s===o?0:!s^l<0?1:-1;if(!s[0]||!o[0])return s[0]?l:o[0]?-u:0;if(l!==u)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(r=s.length,i=o.length,t=0,n=r<i?r:i;t<n;++t)if(s[t]!==o[t])return s[t]>o[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1};h.cosine=h.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+v,r.rounding=1,n=bu(r,ua(r,n)),r.precision=e,r.rounding=t,w(Se==2||Se==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};h.cubeRoot=h.cbrt=function(){var e,t,n,r,i,a,s,o,l,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(E=!1,a=c.s*Q(c.s*c,1/3),!a||Math.abs(a)==1/0?(n=Y(c.d),e=c.e,(a=(e-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=Q(n,1/3),e=z((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?n="5e"+e:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new d(n),r.s=c.s):r=new d(a.toString()),s=(e=d.precision)+3;;)if(o=r,l=o.times(o).times(o),u=l.plus(c),r=V(u.plus(c).times(o),u.plus(l),s+2,1),Y(o.d).slice(0,s)===(n=Y(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!i&&n=="4999"){if(!i&&(w(o,e+1,0),o.times(o).times(o).eq(c))){r=o;break}s+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(w(r,e+1,1),t=!r.times(r).times(r).eq(c));break}return E=!0,w(r,e,d.rounding,t)};h.decimalPlaces=h.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-z(this.e/v))*v,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};h.dividedBy=h.div=function(e){return V(this,new this.constructor(e))};h.dividedToIntegerBy=h.divToInt=function(e){var t=this,n=t.constructor;return w(V(t,new n(e),0,1,1),n.precision,n.rounding)};h.equals=h.eq=function(e){return this.cmp(e)===0};h.floor=function(){return w(new this.constructor(this),this.e+1,3)};h.greaterThan=h.gt=function(e){return this.cmp(e)>0};h.greaterThanOrEqualTo=h.gte=function(e){var t=this.cmp(e);return t==1||t===0};h.hyperbolicCosine=h.cosh=function(){var e,t,n,r,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;n=s.precision,r=s.rounding,s.precision=n+Math.max(a.e,a.sd())+4,s.rounding=1,i=a.d.length,i<32?(e=Math.ceil(i/3),t=(1/rn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=Ze(s,1,a.times(t),new s(1),!0);for(var l,u=e,c=new s(8);u--;)l=a.times(a),a=o.minus(l.times(c.minus(l.times(c))));return w(a,s.precision=n,s.rounding=r,!0)};h.hyperbolicSine=h.sinh=function(){var e,t,n,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,r=i.d.length,r<3)i=Ze(a,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/rn(5,e)),i=Ze(a,2,i,i,!0);for(var s,o=new a(5),l=new a(16),u=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(u))))}return a.precision=t,a.rounding=n,w(i,t,n,!0)};h.hyperbolicTangent=h.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,V(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};h.inverseCosine=h.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return n!==-1?n===0?e.isNeg()?we(t,r,i):new t(0):new t(NaN):e.isZero()?we(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))};h.inverseHyperbolicCosine=h.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,E=!1,n=n.times(n).minus(1).sqrt().plus(n),E=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};h.inverseHyperbolicSine=h.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,E=!1,n=n.times(n).plus(1).sqrt().plus(n),E=!0,r.precision=e,r.rounding=t,n.ln())};h.inverseHyperbolicTangent=h.atanh=function(){var e,t,n,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?w(new a(i),e,t,!0):(a.precision=n=r-i.e,i=V(i.plus(1),new a(1).minus(i),n+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)};h.inverseSine=h.asin=function(){var e,t,n,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),n=a.precision,r=a.rounding,t!==-1?t===0?(e=we(a,n+4,r).times(.5),e.s=i.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,i.times(2)))};h.inverseTangent=h.atan=function(){var e,t,n,r,i,a,s,o,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=Vn)return s=we(c,d+4,f).times(.25),s.s=u.s,s}else{if(!u.s)return new c(NaN);if(d+4<=Vn)return s=we(c,d+4,f).times(.5),s.s=u.s,s}for(c.precision=o=d+10,c.rounding=1,n=Math.min(28,o/v+2|0),e=n;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(E=!1,t=Math.ceil(o/v),r=1,l=u.times(u),s=new c(u),i=u;e!==-1;)if(i=i.times(l),a=s.minus(i.div(r+=2)),i=i.times(l),s=a.plus(i.div(r+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===a.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),E=!0,w(s,c.precision=d,c.rounding=f,!0)};h.isFinite=function(){return!!this.d};h.isInteger=h.isInt=function(){return!!this.d&&z(this.e/v)>this.d.length-2};h.isNaN=function(){return!this.s};h.isNegative=h.isNeg=function(){return this.s<0};h.isPositive=h.isPos=function(){return this.s>0};h.isZero=function(){return!!this.d&&this.d[0]===0};h.lessThan=h.lt=function(e){return this.cmp(e)<0};h.lessThanOrEqualTo=h.lte=function(e){return this.cmp(e)<1};h.logarithm=h.log=function(e){var t,n,r,i,a,s,o,l,u=this,c=u.constructor,d=c.precision,f=c.rounding,p=5;if(e==null)e=new c(10),t=!0;else{if(e=new c(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(i=n[0];i%10===0;)i/=10;a=i!==1}if(E=!1,o=d+p,s=qe(u,o),r=t?Jt(c,o+10):qe(e,o),l=V(s,r,o,1),vt(l.d,i=d,f))do if(o+=10,s=qe(u,o),r=t?Jt(c,o+10):qe(e,o),l=V(s,r,o,1),!a){+Y(l.d).slice(i+1,i+15)+1==1e14&&(l=w(l,d+1,0));break}while(vt(l.d,i+=10,f));return E=!0,w(l,d,f)};h.minus=h.sub=function(e){var t,n,r,i,a,s,o,l,u,c,d,f,p=this,g=p.constructor;if(e=new g(e),!p.d||!e.d)return!p.s||!e.s?e=new g(NaN):p.d?e.s=-e.s:e=new g(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(u=p.d,f=e.d,o=g.precision,l=g.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else if(u[0])e=new g(p);else return new g(l===3?-0:0);return E?w(e,o,l):e}if(n=z(e.e/v),c=z(p.e/v),u=u.slice(),a=c-n,a){for(d=a<0,d?(t=u,a=-a,s=f.length):(t=f,n=c,s=u.length),r=Math.max(Math.ceil(o/v),s)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=u.length,s=f.length,d=r<s,d&&(s=r),r=0;r<s;r++)if(u[r]!=f[r]){d=u[r]<f[r];break}a=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),s=u.length,r=f.length-s;r>0;--r)u[s++]=0;for(r=f.length;r>a;){if(u[--r]<f[r]){for(i=r;i&&u[--i]===0;)u[i]=de-1;--u[i],u[r]+=de}u[r]-=f[r]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=nn(u,n),E?w(e,o,l):e):new g(l===3?-0:0)};h.modulo=h.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?w(new r(n),r.precision,r.rounding):(E=!1,r.modulo==9?(t=V(n,e.abs(),0,3,1),t.s*=e.s):t=V(n,e,0,r.modulo,1),t=t.times(e),E=!0,n.minus(t))};h.naturalExponential=h.exp=function(){return jn(this)};h.naturalLogarithm=h.ln=function(){return qe(this)};h.negated=h.neg=function(){var e=new this.constructor(this);return e.s=-e.s,w(e)};h.plus=h.add=function(e){var t,n,r,i,a,s,o,l,u,c,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return!d.s||!e.s?e=new f(NaN):d.d||(e=new f(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,c=e.d,o=f.precision,l=f.rounding,!u[0]||!c[0])return c[0]||(e=new f(d)),E?w(e,o,l):e;if(a=z(d.e/v),r=z(e.e/v),u=u.slice(),i=a-r,i){for(i<0?(n=u,i=-i,s=c.length):(n=c,r=a,s=u.length),a=Math.ceil(o/v),s=a>s?a+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=u.length,i=c.length,s-i<0&&(i=s,n=c,c=u,u=n),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/de|0,u[i]%=de;for(t&&(u.unshift(t),++r),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=nn(u,r),E?w(e,o,l):e};h.precision=h.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fe+e);return n.d?(t=aa(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};h.round=function(){var e=this,t=e.constructor;return w(new t(e),e.e+1,t.rounding)};h.sine=h.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+v,r.rounding=1,n=_u(r,ua(r,n)),r.precision=e,r.rounding=t,w(Se>2?n.neg():n,e,t,!0)):new r(NaN)};h.squareRoot=h.sqrt=function(){var e,t,n,r,i,a,s=this,o=s.d,l=s.e,u=s.s,c=s.constructor;if(u!==1||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?s:1/0);for(E=!1,u=Math.sqrt(+s),u==0||u==1/0?(t=Y(o),(t.length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=z((l+1)/2)-(l<0||l%2),u==1/0?t="5e"+l:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),r=new c(t)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(a=r,r=a.plus(V(s,a,n+2,1)).times(.5),Y(a.d).slice(0,n)===(t=Y(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(w(a,l+1,0),a.times(a).eq(s))){r=a;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(w(r,l+1,1),e=!r.times(r).eq(s));break}return E=!0,w(r,l,c.rounding,e)};h.tangent=h.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=V(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,w(Se==2||Se==4?n.neg():n,e,t,!0)):new r(NaN)};h.times=h.mul=function(e){var t,n,r,i,a,s,o,l,u,c=this,d=c.constructor,f=c.d,p=(e=new d(e)).d;if(e.s*=c.s,!f||!f[0]||!p||!p[0])return new d(!e.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:!f||!p?e.s/0:e.s*0);for(n=z(c.e/v)+z(e.e/v),l=f.length,u=p.length,l<u&&(a=f,f=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+p[r]*f[i-r-1]+t,a[i--]=o%de|0,t=o/de|0;a[i]=(a[i]+t)%de|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=nn(a,n),E?w(e,d.precision,d.rounding):e};h.toBinary=function(e,t){return ur(this,2,e,t)};h.toDecimalPlaces=h.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ne(e,0,Ve),t===void 0?t=r.rounding:ne(t,0,8),w(n,e+n.e+1,t))};h.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=be(r,!0):(ne(e,0,Ve),t===void 0?t=i.rounding:ne(t,0,8),r=w(new i(r),e+1,t),n=be(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};h.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?n=be(i):(ne(e,0,Ve),t===void 0?t=a.rounding:ne(t,0,8),r=w(new a(i),e+i.e+1,t),n=be(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};h.toFraction=function(e){var t,n,r,i,a,s,o,l,u,c,d,f,p=this,g=p.d,m=p.constructor;if(!g)return new m(p);if(u=n=new m(1),r=l=new m(0),t=new m(r),a=t.e=aa(g)-p.e-1,s=a%v,t.d[0]=Q(10,s<0?v+s:s),e==null)e=a>0?t:u;else{if(o=new m(e),!o.isInt()||o.lt(u))throw Error(Fe+o);e=o.gt(t)?a>0?t:u:o}for(E=!1,o=new m(Y(g)),c=m.precision,m.precision=a=g.length*v*2;d=V(o,t,0,1,1),i=n.plus(d.times(r)),i.cmp(e)!=1;)n=r,r=i,i=u,u=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=V(e.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=p.s,f=V(u,r,a,1).minus(p).abs().cmp(V(l,n,a,1).minus(p).abs())<1?[u,r]:[l,n],m.precision=c,E=!0,f};h.toHexadecimal=h.toHex=function(e,t){return ur(this,16,e,t)};h.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:ne(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(E=!1,n=V(n,e,0,t,1).times(e),E=!0,w(n)):(e.s=n.s,n=e),n};h.toNumber=function(){return+this};h.toOctal=function(e,t){return ur(this,8,e,t)};h.toPower=h.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(Q(+o,u));if(o=new l(o),o.eq(1))return o;if(r=l.precision,a=l.rounding,e.eq(1))return w(o,r,a);if(t=z(e.e/v),t>=e.d.length-1&&(n=u<0?-u:u)<=wu)return i=sa(l,o,n,r),e.s<0?new l(1).div(i):w(i,r,a);if(s=o.s,s<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return n=Q(+o,u),t=n==0||!isFinite(n)?z(u*(Math.log("0."+Y(o.d))/Math.LN10+o.e+1)):new l(n+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(E=!1,l.rounding=o.s=1,n=Math.min(12,(t+"").length),i=jn(e.times(qe(o,r+n)),r),i.d&&(i=w(i,r+5,1),vt(i.d,r,a)&&(t=r+10,i=w(jn(e.times(qe(o,t+n)),t),t+5,1),+Y(i.d).slice(r+1,r+15)+1==1e14&&(i=w(i,r+1,0)))),i.s=s,E=!0,l.rounding=a,w(i,r,a))};h.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=be(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(ne(e,1,Ve),t===void 0?t=i.rounding:ne(t,0,8),r=w(new i(r),e,t),n=be(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};h.toSignificantDigits=h.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ne(e,1,Ve),t===void 0?t=r.rounding:ne(t,0,8)),w(new r(n),e,t)};h.toString=function(){var e=this,t=e.constructor,n=be(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};h.truncated=h.trunc=function(){return w(new this.constructor(this),this.e+1,1)};h.valueOf=h.toJSON=function(){var e=this,t=e.constructor,n=be(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Y(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=v-r.length,n&&(a+=Oe(n)),a+=r;s=e[t],r=s+"",n=v-r.length,n&&(a+=Oe(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function ne(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Fe+e)}function vt(e,t,n,r){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=v,i=0):(i=Math.ceil((t+1)/v),t%=v),a=Q(10,v-t),o=e[i]%a|0,r==null?t<3?(t==0?o=o/100|0:t==1&&(o=o/10|0),s=n<4&&o==99999||n>3&&o==49999||o==5e4||o==0):s=(n<4&&o+1==a||n>3&&o+1==a/2)&&(e[i+1]/a/100|0)==Q(10,t-2)-1||(o==a/2||o==0)&&(e[i+1]/a/100|0)==0:t<4?(t==0?o=o/1e3|0:t==1?o=o/100|0:t==2&&(o=o/10|0),s=(r||n<4)&&o==9999||!r&&n>3&&o==4999):s=((r||n<4)&&o+1==a||!r&&n>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==Q(10,t-3)-1,s}function Ft(e,t,n){for(var r,i=[0],a,s=0,o=e.length;s<o;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=Cn.indexOf(e.charAt(s++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function bu(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/rn(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=Ze(e,1,t.times(i),new e(1));for(var a=n;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var V=(function(){function e(r,i,a){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%a|0,o=s/a|0;return o&&r.unshift(o),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a,s){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*s+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s,o,l){var u,c,d,f,p,g,m,R,T,k,$,M,ie,_,y,b,P,I,A,S,O=r.constructor,B=r.s==i.s?1:-1,C=r.d,N=i.d;if(!C||!C[0]||!N||!N[0])return new O(!r.s||!i.s||(C?N&&C[0]==N[0]:!N)?NaN:C&&C[0]==0||!N?B*0:B/0);for(l?(p=1,c=r.e-i.e):(l=de,p=v,c=z(r.e/p)-z(i.e/p)),A=N.length,P=C.length,T=new O(B),k=T.d=[],d=0;N[d]==(C[d]||0);d++);if(N[d]>(C[d]||0)&&c--,a==null?(_=a=O.precision,s=O.rounding):o?_=a+(r.e-i.e)+1:_=a,_<0)k.push(1),g=!0;else{if(_=_/p+2|0,d=0,A==1){for(f=0,N=N[0],_++;(d<P||f)&&_--;d++)y=f*l+(C[d]||0),k[d]=y/N|0,f=y%N|0;g=f||d<P}else{for(f=l/(N[0]+1)|0,f>1&&(N=e(N,f,l),C=e(C,f,l),A=N.length,P=C.length),b=A,$=C.slice(0,A),M=$.length;M<A;)$[M++]=0;S=N.slice(),S.unshift(0),I=N[0],N[1]>=l/2&&++I;do f=0,u=t(N,$,A,M),u<0?(ie=$[0],A!=M&&(ie=ie*l+($[1]||0)),f=ie/I|0,f>1?(f>=l&&(f=l-1),m=e(N,f,l),R=m.length,M=$.length,u=t(m,$,R,M),u==1&&(f--,n(m,A<R?S:N,R,l))):(f==0&&(u=f=1),m=N.slice()),R=m.length,R<M&&m.unshift(0),n($,m,M,l),u==-1&&(M=$.length,u=t(N,$,A,M),u<1&&(f++,n($,A<M?S:N,M,l))),M=$.length):u===0&&(f++,$=[0]),k[d++]=f,u&&$[0]?$[M++]=C[b]||0:($=[C[b]],M=1);while((b++<P||$[0]!==void 0)&&_--);g=$[0]!==void 0}k[0]||k.shift()}if(p==1)T.e=c,ea=g;else{for(d=1,f=k[0];f>=10;f/=10)d++;T.e=d+c*p-1,w(T,o?a+T.e+1:a,s,g)}return T}})();function w(e,t,n,r){var i,a,s,o,l,u,c,d,f,p=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(i=1,o=d[0];o>=10;o/=10)i++;if(a=t-i,a<0)a+=v,s=t,c=d[f=0],l=c/Q(10,i-s-1)%10|0;else if(f=Math.ceil((a+1)/v),o=d.length,f>=o)if(r){for(;o++<=f;)d.push(0);c=l=0,i=1,a%=v,s=a-v+1}else break e;else{for(c=o=d[f],i=1;o>=10;o/=10)i++;a%=v,s=a-v+i,l=s<0?0:c/Q(10,i-s-1)%10|0}if(r=r||t<0||d[f+1]!==void 0||(s<0?c:c%Q(10,i-s-1)),u=n<4?(l||r)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||r||n==6&&(a>0?s>0?c/Q(10,i-s):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=Q(10,(v-t%v)%v),e.e=-t||0):d[0]=e.e=0,e;if(a==0?(d.length=f,o=1,f--):(d.length=f+1,o=Q(10,v-a),d[f]=s>0?(c/Q(10,i-s)%Q(10,s)|0)*o:0),u)for(;;)if(f==0){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,d[0]==de&&(d[0]=1));break}else{if(d[f]+=o,d[f]!=de)break;d[f--]=0,o=1}for(a=d.length;d[--a]===0;)d.pop()}return E&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function be(e,t,n){if(!e.isFinite())return la(e);var r,i=e.e,a=Y(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Oe(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+Oe(-i-1)+a,n&&(r=n-s)>0&&(a+=Oe(r))):i>=s?(a+=Oe(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Oe(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Oe(r))),a}function nn(e,t){var n=e[0];for(t*=v;n>=10;n/=10)t++;return t}function Jt(e,t,n){if(t>vu)throw E=!0,n&&(e.precision=n),Error(ta);return w(new e(Wt),t,1,!0)}function we(e,t,n){if(t>Vn)throw Error(ta);return w(new e(Kt),t,n,!0)}function aa(e){var t=e.length-1,n=t*v+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Oe(e){for(var t="";e--;)t+="0";return t}function sa(e,t,n,r){var i,a=new e(1),s=Math.ceil(r/v+4);for(E=!1;;){if(n%2&&(a=a.times(t),jr(a.d,s)&&(i=!0)),n=z(n/2),n===0){n=a.d.length-1,i&&a.d[n]===0&&++a.d[n];break}t=t.times(t),jr(t.d,s)}return E=!0,a}function Vr(e){return e.d[e.d.length-1]&1}function oa(e,t,n){for(var r,i,a=new e(t[0]),s=0;++s<t.length;){if(i=new e(t[s]),!i.s){a=i;break}r=a.cmp(i),(r===n||r===0&&a.s===n)&&(a=i)}return a}function jn(e,t){var n,r,i,a,s,o,l,u=0,c=0,d=0,f=e.constructor,p=f.rounding,g=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(E=!1,l=g):l=t,o=new f(.03125);e.e>-2;)e=e.times(o),d+=5;for(r=Math.log(Q(2,d))/Math.LN10*2+5|0,l+=r,n=a=s=new f(1),f.precision=l;;){if(a=w(a.times(e),l,1),n=n.times(++c),o=s.plus(V(a,n,l,1)),Y(o.d).slice(0,l)===Y(s.d).slice(0,l)){for(i=d;i--;)s=w(s.times(s),l,1);if(t==null)if(u<3&&vt(s.d,l-r,p,u))f.precision=l+=10,n=a=o=new f(1),c=0,u++;else return w(s,f.precision=g,p,E=!0);else return f.precision=g,s}s=o}}function qe(e,t){var n,r,i,a,s,o,l,u,c,d,f,p=1,g=10,m=e,R=m.d,T=m.constructor,k=T.rounding,$=T.precision;if(m.s<0||!R||!R[0]||!m.e&&R[0]==1&&R.length==1)return new T(R&&!R[0]?-1/0:m.s!=1?NaN:R?0:m);if(t==null?(E=!1,c=$):c=t,T.precision=c+=g,n=Y(R),r=n.charAt(0),Math.abs(a=m.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Y(m.d),r=n.charAt(0),p++;a=m.e,r>1?(m=new T("0."+n),a++):m=new T(r+"."+n.slice(1))}else return u=Jt(T,c+2,$).times(a+""),m=qe(new T(r+"."+n.slice(1)),c-g).plus(u),T.precision=$,t==null?w(m,$,k,E=!0):m;for(d=m,l=s=m=V(m.minus(1),m.plus(1),c,1),f=w(m.times(m),c,1),i=3;;){if(s=w(s.times(f),c,1),u=l.plus(V(s,new T(i),c,1)),Y(u.d).slice(0,c)===Y(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(Jt(T,c+2,$).times(a+""))),l=V(l,new T(p),c,1),t==null)if(vt(l.d,c-g,k,o))T.precision=c+=g,u=s=m=V(d.minus(1),d.plus(1),c,1),f=w(m.times(m),c,1),i=o=1;else return w(l,T.precision=$,k,E=!0);else return T.precision=$,l;l=u,i+=2}}function la(e){return String(e.s*e.s/0)}function Vt(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%v,n<0&&(r+=v),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=v;r<i;)e.d.push(+t.slice(r,r+=v));t=t.slice(r),r=v-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),E&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Eu(e,t){var n,r,i,a,s,o,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),ia.test(t))return Vt(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(gu.test(t))n=16,t=t.toLowerCase();else if(mu.test(t))n=2;else if(yu.test(t))n=8;else throw Error(Fe+t);for(a=t.search(/p/i),a>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),s=a>=0,r=e.constructor,s&&(t=t.replace(".",""),o=t.length,a=o-a,i=sa(r,new r(n),a,a*2)),u=Ft(t,n,de),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new r(e.s*0):(e.e=nn(u,c),e.d=u,E=!1,s&&(e=V(e,i,o*4)),l&&(e=e.times(Math.abs(l)<54?Q(2,l):We.pow(2,l))),E=!0,e)}function _u(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Ze(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/rn(5,n)),t=Ze(e,2,t,t);for(var i,a=new e(5),s=new e(16),o=new e(20);n--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}function Ze(e,t,n,r,i){var a,s,o,l,u=1,c=e.precision,d=Math.ceil(c/v);for(E=!1,l=n.times(n),o=new e(r);;){if(s=V(o.times(l),new e(t++*t++),c,1),o=i?r.plus(s):r.minus(s),r=V(s.times(l),new e(t++*t++),c,1),s=o.plus(r),s.d[d]!==void 0){for(a=d;s.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=r,r=s,s=a,u++}return E=!0,s.d.length=d+1,s}function rn(e,t){for(var n=e;--t;)n*=e;return n}function ua(e,t){var n,r=t.s<0,i=we(e,e.precision,1),a=i.times(.5);if(t=t.abs(),t.lte(a))return Se=r?4:1,t;if(n=t.divToInt(i),n.isZero())Se=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(a))return Se=Vr(n)?r?2:3:r?4:1,t;Se=Vr(n)?r?1:4:r?3:2}return t.minus(i).abs()}function ur(e,t,n,r){var i,a,s,o,l,u,c,d,f,p=e.constructor,g=n!==void 0;if(g?(ne(n,1,Ve),r===void 0?r=p.rounding:ne(r,0,8)):(n=p.precision,r=p.rounding),!e.isFinite())c=la(e);else{for(c=be(e),s=c.indexOf("."),g?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,s>=0&&(c=c.replace(".",""),f=new p(1),f.e=c.length-s,f.d=Ft(be(f),10,i),f.e=f.d.length),d=Ft(c,10,i),a=l=d.length;d[--l]==0;)d.pop();if(!d[0])c=g?"0p+0":"0";else{if(s<0?a--:(e=new p(e),e.d=d,e.e=a,e=V(e,f,n,r,0,i),d=e.d,a=e.e,u=ea),s=d[n],o=i/2,u=u||d[n+1]!==void 0,u=r<4?(s!==void 0||u)&&(r===0||r===(e.s<0?3:2)):s>o||s===o&&(r===4||u||r===6&&d[n-1]&1||r===(e.s<0?8:7)),d.length=n,u)for(;++d[--n]>i-1;)d[n]=0,n||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,c="";s<l;s++)c+=Cn.charAt(d[s]);if(g){if(l>1)if(t==16||t==8){for(s=t==16?4:3,--l;l%s;l++)c+="0";for(d=Ft(c,i,t),l=d.length;!d[l-1];--l);for(s=1,c="1.";s<l;s++)c+=Cn.charAt(d[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(t==16?"0x":t==2?"0b":t==8?"0o":"")+c}return e.s<0?"-"+c:c}function jr(e,t){if(e.length>t)return e.length=t,!0}function Pu(e){return new this(e).abs()}function xu(e){return new this(e).acos()}function Su(e){return new this(e).acosh()}function Ru(e,t){return new this(e).plus(t)}function Tu(e){return new this(e).asin()}function $u(e){return new this(e).asinh()}function Nu(e){return new this(e).atan()}function ku(e){return new this(e).atanh()}function Au(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,a=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=we(this,a,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?we(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=we(this,a,1).times(.5),n.s=e.s):t.s<0?(this.precision=a,this.rounding=1,n=this.atan(V(e,t,a,1)),t=we(this,a,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(V(e,t,a,1)),n}function Ou(e){return new this(e).cbrt()}function qu(e){return w(e=new this(e),e.e+1,2)}function Du(e,t,n){return new this(e).clamp(t,n)}function Iu(e){if(!e||typeof e!="object")throw Error(tn+"Object expected");var t,n,r,i=e.defaults===!0,a=["precision",1,Ve,"rounding",0,8,"toExpNeg",-Qe,0,"toExpPos",0,Qe,"maxE",0,Qe,"minE",-Qe,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],i&&(this[n]=Fn[n]),(r=e[n])!==void 0)if(z(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Fe+n+": "+r);if(n="crypto",i&&(this[n]=Fn[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(na);else this[n]=!1;else throw Error(Fe+n+": "+r);return this}function Cu(e){return new this(e).cos()}function Fu(e){return new this(e).cosh()}function ca(e){var t,n,r;function i(a){var s,o,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,Ur(a)){u.s=a.s,E?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(s=0,o=a;o>=10;o/=10)s++;E?s>i.maxE?(u.e=NaN,u.d=null):s<i.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[a]):(u.e=s,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return Vt(u,a.toString())}if(l==="string")return(o=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(o===43&&(a=a.slice(1)),u.s=1),ia.test(a)?Vt(u,a):Eu(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,Vt(u,a.toString());throw Error(Fe+a)}if(i.prototype=h,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Iu,i.clone=ca,i.isDecimal=Ur,i.abs=Pu,i.acos=xu,i.acosh=Su,i.add=Ru,i.asin=Tu,i.asinh=$u,i.atan=Nu,i.atanh=ku,i.atan2=Au,i.cbrt=Ou,i.ceil=qu,i.clamp=Du,i.cos=Cu,i.cosh=Fu,i.div=Vu,i.exp=ju,i.floor=Uu,i.hypot=Lu,i.ln=Mu,i.log=Bu,i.log10=Hu,i.log2=Gu,i.max=Wu,i.min=Ku,i.mod=Ju,i.mul=Qu,i.pow=Yu,i.random=zu,i.round=Zu,i.sign=Xu,i.sin=ec,i.sinh=tc,i.sqrt=nc,i.sub=rc,i.sum=ic,i.tan=ac,i.tanh=sc,i.trunc=oc,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Vu(e,t){return new this(e).div(t)}function ju(e){return new this(e).exp()}function Uu(e){return w(e=new this(e),e.e+1,3)}function Lu(){var e,t,n=new this(0);for(E=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return E=!0,new this(1/0);n=t}return E=!0,n.sqrt()}function Ur(e){return e instanceof We||e&&e.toStringTag===ra||!1}function Mu(e){return new this(e).ln()}function Bu(e,t){return new this(e).log(t)}function Gu(e){return new this(e).log(2)}function Hu(e){return new this(e).log(10)}function Wu(){return oa(this,arguments,-1)}function Ku(){return oa(this,arguments,1)}function Ju(e,t){return new this(e).mod(t)}function Qu(e,t){return new this(e).mul(t)}function Yu(e,t){return new this(e).pow(t)}function zu(e){var t,n,r,i,a=0,s=new this(1),o=[];if(e===void 0?e=this.precision:ne(e,1,Ve),r=Math.ceil(e/v),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)i=t[a],i>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);a<r;)i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=r/4}else throw Error(na);else for(;a<r;)o[a++]=Math.random()*1e7|0;for(r=o[--a],e%=v,r&&e&&(i=Q(10,v-e),o[a]=(r/i|0)*i);o[a]===0;a--)o.pop();if(a<0)n=0,o=[0];else{for(n=-1;o[0]===0;n-=v)o.shift();for(r=1,i=o[0];i>=10;i/=10)r++;r<v&&(n-=v-r)}return s.e=n,s.d=o,s}function Zu(e){return w(e=new this(e),e.e+1,this.rounding)}function Xu(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function ec(e){return new this(e).sin()}function tc(e){return new this(e).sinh()}function nc(e){return new this(e).sqrt()}function rc(e,t){return new this(e).sub(t)}function ic(){var e=0,t=arguments,n=new this(t[e]);for(E=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return E=!0,w(n,this.precision,this.rounding)}function ac(e){return new this(e).tan()}function sc(e){return new this(e).tanh()}function oc(e){return w(e=new this(e),e.e+1,1)}h[Symbol.for("nodejs.util.inspect.custom")]=h.toString;h[Symbol.toStringTag]="Decimal";var We=h.constructor=ca(Fn);Wt=new We(Wt);Kt=new We(Kt);var an=We;function cr(e){return We.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}var da={};He(da,{ModelAction:()=>sn,datamodelEnumToSchemaEnum:()=>lc});function lc(e){return{name:e.name,values:e.values.map(t=>t.name)}}var sn=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(sn||{}),uc=F(_i()),cc=F(require("node:fs")),dc={keyword:Me,entity:Me,value:e=>ce(lt(e)),punctuation:lt,directive:Me,function:Me,variable:e=>ce(lt(e)),string:e=>ce(ht(e)),boolean:_t,number:Me,comment:er},fc=e=>e,qt={},pc=0,x={manual:qt.Prism&&qt.Prism.manual,disableWorkerMessageHandler:qt.Prism&&qt.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof ge){let t=e;return new ge(t.type,x.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(x.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++pc}),e.__id},clone:function e(t,n){let r,i,a=x.util.type(t);switch(n=n||{},a){case"Object":if(i=x.util.objId(t),n[i])return n[i];r={},n[i]=r;for(let s in t)t.hasOwnProperty(s)&&(r[s]=e(t[s],n));return r;case"Array":return i=x.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach(function(s,o){r[o]=e(s,n)}),r);default:return t}}},languages:{extend:function(e,t){let n=x.util.clone(x.languages[e]);for(let r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){r=r||x.languages;let i=r[e],a={};for(let o in i)if(i.hasOwnProperty(o)){if(o==t)for(let l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(o)||(a[o]=i[o])}let s=r[e];return r[e]=a,x.languages.DFS(x.languages,function(o,l){l===s&&o!=e&&(this[o]=a)}),a},DFS:function e(t,n,r,i){i=i||{};let a=x.util.objId;for(let s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);let o=t[s],l=x.util.type(o);l==="Object"&&!i[a(o)]?(i[a(o)]=!0,e(o,n,null,i)):l==="Array"&&!i[a(o)]&&(i[a(o)]=!0,e(o,n,s,i))}}},plugins:{},highlight:function(e,t,n){let r={code:e,grammar:t,language:n};return x.hooks.run("before-tokenize",r),r.tokens=x.tokenize(r.code,r.grammar),x.hooks.run("after-tokenize",r),ge.stringify(x.util.encode(r.tokens),r.language)},matchGrammar:function(e,t,n,r,i,a,s){for(let m in n){if(!n.hasOwnProperty(m)||!n[m])continue;if(m==s)return;let R=n[m];R=x.util.type(R)==="Array"?R:[R];for(let T=0;T<R.length;++T){let k=R[T],$=k.inside,M=!!k.lookbehind,ie=!!k.greedy,_=0,y=k.alias;if(ie&&!k.pattern.global){let b=k.pattern.toString().match(/[imuy]*$/)[0];k.pattern=RegExp(k.pattern.source,b+"g")}k=k.pattern||k;for(let b=r,P=i;b<t.length;P+=t[b].length,++b){let I=t[b];if(t.length>e.length)return;if(I instanceof ge)continue;if(ie&&b!=t.length-1){k.lastIndex=P;var d=k.exec(e);if(!d)break;var c=d.index+(M?d[1].length:0),f=d.index+d[0].length,o=b,l=P;for(let N=t.length;o<N&&(l<f||!t[o].type&&!t[o-1].greedy);++o)l+=t[o].length,c>=l&&(++b,P=l);if(t[b]instanceof ge)continue;u=o-b,I=e.slice(P,l),d.index-=P}else{k.lastIndex=0;var d=k.exec(I),u=1}if(!d){if(a)break;continue}M&&(_=d[1]?d[1].length:0);var c=d.index+_,d=d[0].slice(_),f=c+d.length,p=I.slice(0,c),g=I.slice(f);let A=[b,u];p&&(++b,P+=p.length,A.push(p));let S=new ge(m,$?x.tokenize(d,$):d,y,d,ie);if(A.push(S),g&&A.push(g),Array.prototype.splice.apply(t,A),u!=1&&x.matchGrammar(e,t,n,b,P,!0,m),a)break}}}},tokenize:function(e,t){let n=[e],r=t.rest;if(r){for(let i in r)t[i]=r[i];delete t.rest}return x.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){let n=x.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){let n=x.hooks.all[e];if(!(!n||!n.length))for(var r=0,i;i=n[r++];)i(t)}},Token:ge};x.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};x.languages.javascript=x.languages.extend("clike",{"class-name":[x.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});x.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;x.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:x.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:x.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:x.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:x.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});x.languages.markup&&x.languages.markup.tag.addInlined("script","javascript");x.languages.js=x.languages.javascript;x.languages.typescript=x.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});x.languages.ts=x.languages.typescript;function ge(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=(r||"").length|0,this.greedy=!!i}ge.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(n){return ge.stringify(n,t)}).join(""):hc(e.type)(e.content)};function hc(e){return dc[e]||fc}function mc(e){return gc(e,x.languages.javascript)}function gc(e,t){return x.tokenize(e,t).map(n=>ge.stringify(n)).join("")}function yc(e){return Wl(e)}var wc=class Ue{firstLineNumber;lines;static read(t){let n;try{n=cc.default.readFileSync(t,"utf-8")}catch{return null}return Ue.fromContent(n)}static fromContent(t){let n=t.split(/\r?\n/);return new Ue(1,n)}constructor(t,n){this.firstLineNumber=t,this.lines=n}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,n){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let r=t-this.firstLineNumber,i=[...this.lines];return i[r]=n(i[r]),new Ue(this.firstLineNumber,i)}mapLines(t){return new Ue(this.firstLineNumber,this.lines.map((n,r)=>t(n,this.firstLineNumber+r)))}lineAt(t){return this.lines[t-this.firstLineNumber]}prependSymbolAt(t,n){return this.mapLines((r,i)=>i===t?`${n} ${r}`:`  ${r}`)}slice(t,n){let r=this.lines.slice(t-1,n).join(`
`);return new Ue(t,yc(r).split(`
`))}highlight(){let t=mc(this.toString());return new Ue(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}},vc={red:Be,gray:er,dim:Et,bold:ce,underline:se,highlightSource:e=>e.highlight()},bc={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function Ec({message:e,originalMethod:t,isPanic:n,callArguments:r}){return{functionName:`prisma.${t}()`,message:e,isPanic:n??!1,callArguments:r}}function _c({callsite:e,message:t,originalMethod:n,isPanic:r,callArguments:i},a){let s=Ec({message:t,originalMethod:n,isPanic:r,callArguments:i});if(!e||typeof window<"u"||process.env.NODE_ENV==="production")return s;let o=e.getLocation();if(!o||!o.lineNumber||!o.columnNumber)return s;let l=Math.max(1,o.lineNumber-3),u=wc.read(o.fileName)?.slice(l,o.lineNumber),c=u?.lineAt(o.lineNumber);if(u&&c){let d=xc(c),f=Pc(c);if(!f)return s;s.functionName=`${f.code})`,s.location=o,r||(u=u.mapLineAt(o.lineNumber,g=>g.slice(0,f.openingBraceIndex))),u=a.highlightSource(u);let p=String(u.lastLineNumber).length;if(s.contextLines=u.mapLines((g,m)=>a.gray(String(m).padStart(p))+" "+g).mapLines(g=>a.dim(g)).prependSymbolAt(o.lineNumber,a.bold(a.red("\u2192"))),i){let g=d+p+1;g+=2,s.callArguments=(0,uc.default)(i,g).slice(g)}}return s}function Pc(e){let t=Object.keys(sn).join("|"),n=new RegExp(String.raw`\.(${t})\(`).exec(e);if(n){let r=n.index+n[0].length,i=e.lastIndexOf(" ",n.index)+1;return{code:e.slice(i,r),openingBraceIndex:r}}return null}function xc(e){let t=0;for(let n=0;n<e.length;n++){if(e.charAt(n)!==" ")return t;t++}return t}function Sc({functionName:e,location:t,message:n,isPanic:r,contextLines:i,callArguments:a},s){let o=[""],l=t?" in":":";if(r?(o.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),o.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${l}`))):o.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${l}`)),t&&o.push(s.underline(Rc(t))),i){o.push("");let u=[i.toString()];a&&(u.push(a),u.push(s.dim(")"))),o.push(u.join("")),a&&o.push("")}else o.push(""),a&&o.push(a),o.push("");return o.push(n),o.join(`
`)}function Rc(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function fa(e){let t=e.showColors?vc:bc,n;return n=_c(e,t),Sc(n,t)}var Tc=F(Pi());function $c(e,t,n){let r=pa(e),i=Nc(r),a=Ac(i);a?va(a,t,n):t.addErrorMessage(()=>"Unknown error")}function pa(e){return e.errors.flatMap(t=>t.kind==="Union"?pa(t):[t])}function Nc(e){let t=new Map,n=[];for(let r of e){if(r.kind!=="InvalidArgumentType"){n.push(r);continue}let i=`${r.selectionPath.join(".")}:${r.argumentPath.join(".")}`,a=t.get(i);a?t.set(i,{...r,argument:{...r.argument,typeNames:kc(a.argument.typeNames,r.argument.typeNames)}}):t.set(i,r)}return n.push(...t.values()),n}function kc(e,t){return[...new Set(e.concat(t))]}function Ac(e){return fu(e,(t,n)=>{let r=Lr(t),i=Lr(n);return r!==i?r-i:Mr(t)-Mr(n)})}function Lr(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Mr(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var Ee=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),typeof this.value=="string"?e.write(t(this.value)):e.write(this.value)}};io();var ha=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return typeof e=="string"?this.currentLine+=e:e.write(this),this}writeJoined(e,t,n=(r,i)=>i.write(r)){let r=t.length-1;for(let i=0;i<t.length;i++)n(t[i],this),i!==r&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};ro();var Oc=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},Dt=e=>e,ma={bold:Dt,red:Dt,green:Dt,dim:Dt,enabled:!1},qc={bold:ce,red:Be,green:ht,dim:Et,enabled:!0},dr={write(e){e.writeLine(",")}},on=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},fr=class{hasError=!1;markAsError(){return this.hasError=!0,this}},ga=class extends fr{items=[];addItem(e){return this.items.push(new Oc(e)),this}getField(e){return this.items[e]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(this.items.length===0){this.writeEmpty(e);return}this.writeWithItems(e)}writeEmpty(e){let t=new on("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(dr,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},ya=class jt extends fr{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[n,...r]=t,i=this.getField(n);if(!i)return;let a=i;for(let s of r){let o;if(a.value instanceof jt?o=a.value.getField(s):a.value instanceof ga&&(o=a.value.getField(Number(s))),!o)return;a=o}return a}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let n=this;for(let r of t){if(!(n instanceof jt))return;let i=n.getSubSelectionValue(r);if(!i)return;n=i}return n}getDeepSelectionParent(t){let n=this.getSelectionParent();if(!n)return;let r=n;for(let i of t){let a=r.value.getFieldValue(i);if(!a||!(a instanceof jt))return;let s=a.getSelectionParent();if(!s)return;r=s}return r}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let n=this.getField("include")?.value.asObject();if(n)return{kind:"include",value:n}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let n=Object.values(this.fields);if(n.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,n)}asObject(){return this}writeEmpty(t){let n=new on("{}");this.hasError&&n.setColor(t.context.colors.red).underline(),t.write(n)}writeWithContents(t,n){t.writeLine("{").withIndent(()=>{t.writeJoined(dr,[...n,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}},te=class extends fr{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new on(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},wa=class{fields=[];addField(e,t){return this.fields.push({write(n){let{green:r,dim:i}=n.context.colors;n.write(r(i(`${e}: ${t}`))).addMarginSymbol(r(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(dr,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function va(e,t,n){switch(e.kind){case"MutuallyExclusiveFields":Dc(e,t);break;case"IncludeOnScalar":Ic(e,t);break;case"EmptySelection":Cc(e,t,n);break;case"UnknownSelectionField":Uc(e,t);break;case"InvalidSelectionValue":Lc(e,t);break;case"UnknownArgument":Mc(e,t);break;case"UnknownInputField":Bc(e,t);break;case"RequiredArgumentMissing":Gc(e,t);break;case"InvalidArgumentType":Hc(e,t);break;case"InvalidArgumentValue":Wc(e,t);break;case"ValueTooLarge":Kc(e,t);break;case"SomeFieldsMissing":Jc(e,t);break;case"TooManyFieldsGiven":Qc(e,t);break;case"Union":$c(e,t,n);break;default:throw new Error("not implemented: "+e.kind)}}function Dc(e,t){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(e.firstField)?.markAsError(),n.getField(e.secondField)?.markAsError()),t.addErrorMessage(r=>`Please ${r.bold("either")} use ${r.green(`\`${e.firstField}\``)} or ${r.green(`\`${e.secondField}\``)}, but ${r.red("not both")} at the same time.`)}function Ic(e,t){let[n,r]=Xe(e.selectionPath),i=e.outputType,a=t.arguments.getDeepSelectionParent(n)?.value;if(a&&(a.getField(r)?.markAsError(),i))for(let s of i.fields)s.isRelation&&a.addSuggestion(new Ee(s.name,"true"));t.addErrorMessage(s=>{let o=`Invalid scalar field ${s.red(`\`${r}\``)} for ${s.bold("include")} statement`;return i?o+=` on model ${s.bold(i.name)}. ${St(s)}`:o+=".",o+=`
Note that ${s.bold("include")} statements only accept relation fields.`,o})}function Cc(e,t,n){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(r){let i=r.getField("omit")?.value.asObject();if(i){Fc(e,t,i);return}if(r.hasField("select")){Vc(e,t);return}}if(n?.[en(e.outputType.name)]){jc(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function Fc(e,t,n){n.removeAllFields();for(let r of e.outputType.fields)n.addSuggestion(new Ee(r.name,"false"));t.addErrorMessage(r=>`The ${r.red("omit")} statement includes every field of the model ${r.bold(e.outputType.name)}. At least one field must be included in the result`)}function Vc(e,t){let n=e.outputType,r=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=r?.isEmpty()??!1;r&&(r.removeAllFields(),_a(r,n)),t.addErrorMessage(a=>i?`The ${a.red("`select`")} statement for type ${a.bold(n.name)} must not be empty. ${St(a)}`:`The ${a.red("`select`")} statement for type ${a.bold(n.name)} needs ${a.bold("at least one truthy value")}.`)}function jc(e,t){let n=new wa;for(let i of e.outputType.fields)i.isRelation||n.addField(i.name,"false");let r=new Ee("omit",n).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(r);else{let[i,a]=Xe(e.selectionPath),s=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(a);if(s){let o=s?.value.asObject()??new ya;o.addSuggestion(r),s.value=o}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function Uc(e,t){let n=Pa(e.selectionPath,t);if(n.parentKind!=="unknown"){n.field.markAsError();let r=n.parent;switch(n.parentKind){case"select":_a(r,e.outputType);break;case"include":Yc(r,e.outputType);break;case"omit":zc(r,e.outputType);break}}t.addErrorMessage(r=>{let i=[`Unknown field ${r.red(`\`${n.fieldName}\``)}`];return n.parentKind!=="unknown"&&i.push(`for ${r.bold(n.parentKind)} statement`),i.push(`on model ${r.bold(`\`${e.outputType.name}\``)}.`),i.push(St(r)),i.join(" ")})}function Lc(e,t){let n=Pa(e.selectionPath,t);n.parentKind!=="unknown"&&n.field.value.markAsError(),t.addErrorMessage(r=>`Invalid value for selection field \`${r.red(n.fieldName)}\`: ${e.underlyingError}`)}function Mc(e,t){let n=e.argumentPath[0],r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(n)?.markAsError(),Zc(r,e.arguments)),t.addErrorMessage(i=>ba(i,n,e.arguments.map(a=>a.name)))}function Bc(e,t){let[n,r]=Xe(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let a=i.getDeepFieldValue(n)?.asObject();a&&xa(a,e.inputType)}t.addErrorMessage(a=>ba(a,r,e.inputType.fields.map(s=>s.name)))}function ba(e,t,n){let r=[`Unknown argument \`${e.red(t)}\`.`],i=ed(t,n);return i&&r.push(`Did you mean \`${e.green(i)}\`?`),n.length>0&&r.push(St(e)),r.join(" ")}function Gc(e,t){let n;t.addErrorMessage(l=>n?.value instanceof te&&n.value.text==="null"?`Argument \`${l.green(a)}\` must not be ${l.red("null")}.`:`Argument \`${l.green(a)}\` is missing.`);let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!r)return;let[i,a]=Xe(e.argumentPath),s=new wa,o=r.getDeepFieldValue(i)?.asObject();if(o){if(n=o.getField(a),n&&o.removeField(a),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let l of e.inputTypes[0].fields)s.addField(l.name,l.typeNames.join(" | "));o.addSuggestion(new Ee(a,s).makeRequired())}else{let l=e.inputTypes.map(Ea).join(" | ");o.addSuggestion(new Ee(a,l).makeRequired())}if(e.dependentArgumentPath){r.getDeepField(e.dependentArgumentPath)?.markAsError();let[,l]=Xe(e.dependentArgumentPath);t.addErrorMessage(u=>`Argument \`${u.green(a)}\` is required because argument \`${u.green(l)}\` was provided.`)}}}function Ea(e){return e.kind==="list"?`${Ea(e.elementType)}[]`:e.name}function Hc(e,t){let n=e.argument.name,r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&r.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let a=ln("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(n)}\`: Invalid value provided. Expected ${a}, provided ${i.red(e.inferredType)}.`})}function Wc(e,t){let n=e.argument.name,r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&r.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let a=[`Invalid value for argument \`${i.bold(n)}\``];if(e.underlyingError&&a.push(`: ${e.underlyingError}`),a.push("."),e.argument.typeNames.length>0){let s=ln("or",e.argument.typeNames.map(o=>i.green(o)));a.push(` Expected ${s}.`)}return a.join("")})}function Kc(e,t){let n=e.argument.name,r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(r){let a=r.getDeepField(e.argumentPath)?.value;a?.markAsError(),a instanceof te&&(i=a.text)}t.addErrorMessage(a=>{let s=["Unable to fit value"];return i&&s.push(a.red(i)),s.push(`into a 64-bit signed integer for field \`${a.bold(n)}\``),s.join(" ")})}function Jc(e,t){let n=e.argumentPath[e.argumentPath.length-1],r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(r){let i=r.getDeepFieldValue(e.argumentPath)?.asObject();i&&xa(i,e.inputType)}t.addErrorMessage(i=>{let a=[`Argument \`${i.bold(n)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?a.push(`${i.green("at least one of")} ${ln("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):a.push(`${i.green("at least one")} argument.`):a.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),a.push(St(i)),a.join(" ")})}function Qc(e,t){let n=e.argumentPath[e.argumentPath.length-1],r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(r){let a=r.getDeepFieldValue(e.argumentPath)?.asObject();a&&(a.markAsError(),i=Object.keys(a.getFields()))}t.addErrorMessage(a=>{let s=[`Argument \`${a.bold(n)}\` of type ${a.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${a.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${a.green("at most one")} argument,`):s.push(`${a.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${ln("and",i.map(o=>a.red(o)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function _a(e,t){for(let n of t.fields)e.hasField(n.name)||e.addSuggestion(new Ee(n.name,"true"))}function Yc(e,t){for(let n of t.fields)n.isRelation&&!e.hasField(n.name)&&e.addSuggestion(new Ee(n.name,"true"))}function zc(e,t){for(let n of t.fields)!e.hasField(n.name)&&!n.isRelation&&e.addSuggestion(new Ee(n.name,"true"))}function Zc(e,t){for(let n of t)e.hasField(n.name)||e.addSuggestion(new Ee(n.name,n.typeNames.join(" | ")))}function Pa(e,t){let[n,r]=Xe(e),i=t.arguments.getDeepSubSelectionValue(n)?.asObject();if(!i)return{parentKind:"unknown",fieldName:r};let a=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),o=i.getFieldValue("omit")?.asObject(),l=a?.getField(r);return a&&l?{parentKind:"select",parent:a,field:l,fieldName:r}:(l=s?.getField(r),s&&l?{parentKind:"include",field:l,parent:s,fieldName:r}:(l=o?.getField(r),o&&l?{parentKind:"omit",field:l,parent:o,fieldName:r}:{parentKind:"unknown",fieldName:r}))}function xa(e,t){if(t.kind==="object")for(let n of t.fields)e.hasField(n.name)||e.addSuggestion(new Ee(n.name,n.typeNames.join(" | ")))}function Xe(e){let t=[...e],n=t.pop();if(!n)throw new Error("unexpected empty path");return[t,n]}function St({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function ln(e,t){if(t.length===1)return t[0];let n=[...t],r=n.pop();return`${n.join(", ")} ${e} ${r}`}var Xc=3;function ed(e,t){let n=1/0,r;for(let i of t){let a=(0,Tc.default)(e,i);a>Xc||a<n&&(n=a,r=i)}return r}var Sa=class{modelName;name;typeName;isList;isEnum;constructor(e,t,n,r,i){this.modelName=e,this.name=t,this.typeName=n,this.isList=r,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function pr(e){return e instanceof Sa}var Ut=Symbol(),hn=new WeakMap,un=class{constructor(e){e===Ut?hn.set(this,`Prisma.${this._getName()}`):hn.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return hn.get(this)}},hr=class extends un{_getNamespace(){return"NullTypes"}},Un=class extends hr{#e};mr(Un,"DbNull");var Ln=class extends hr{#e};mr(Ln,"JsonNull");var Mn=class extends hr{#e};mr(Mn,"AnyNull");var Ra={classes:{DbNull:Un,JsonNull:Ln,AnyNull:Mn},instances:{DbNull:new Un(Ut),JsonNull:new Ln(Ut),AnyNull:new Mn(Ut)}};function mr(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Br=": ",td=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Br.length}write(e){let t=new on(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(Br).write(this.value)}},nd=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function gr(e){return new nd(Ta(e))}function Ta(e){let t=new ya;for(let[n,r]of Object.entries(e)){let i=new td(n,$a(r));t.addField(i)}return t}function $a(e){if(typeof e=="string")return new te(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new te(String(e));if(typeof e=="bigint")return new te(`${e}n`);if(e===null)return new te("null");if(e===void 0)return new te("undefined");if(cr(e))return new te(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new te(`Buffer.alloc(${e.byteLength})`):new te(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=Xi(e)?e.toISOString():"Invalid Date";return new te(`new Date("${t}")`)}return e instanceof un?new te(`Prisma.${e._getName()}`):pr(e)?new te(`prisma.${en(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?rd(e):typeof e=="object"?Ta(e):new te(Object.prototype.toString.call(e))}function rd(e){let t=new ga;for(let n of e)t.addItem($a(n));return t}function Na(e,t){let n=t==="pretty"?qc:ma,r=e.renderAllMessages(n),i=new ha(0,{colors:n}).write(e).toString();return{message:r,args:i}}function ka({args:e,errors:t,errorFormat:n,callsite:r,originalMethod:i,clientVersion:a,globalOmit:s}){let o=gr(e);for(let d of t)va(d,o,s);let{message:l,args:u}=Na(o,n),c=fa({message:l,callsite:r,originalMethod:i,showColors:n==="pretty",callArguments:u});throw new xe(c,{clientVersion:a})}function Rt(e){return e.replace(/^./,t=>t.toLowerCase())}function id(e,t,n){let r=Rt(n);return!t.result||!(t.result.$allModels||t.result[r])?e:ad({...e,...Gr(t.name,e,t.result.$allModels),...Gr(t.name,e,t.result[r])})}function ad(e){let t=new dt,n=(r,i)=>t.getOrCreate(r,()=>i.has(r)?[r]:(i.add(r),e[r]?e[r].needs.flatMap(a=>n(a,i)):[r]));return Yi(e,r=>({...r,needs:n(r.name,new Set)}))}function Gr(e,t,n){return n?Yi(n,({needs:r,compute:i},a)=>({name:a,needs:r?Object.keys(r).filter(s=>r[s]):[],compute:sd(t,a,i)})):{}}function sd(e,t,n){let r=e?.[t]?.compute;return r?i=>n({...i,[t]:r(i)}):n}function od(e,t){if(!t)return e;let n={...e};for(let r of Object.values(t))if(e[r.name])for(let i of r.needs)n[i]=!0;return n}function ld(e,t){if(!t)return e;let n={...e};for(let r of Object.values(t))if(!e[r.name])for(let i of r.needs)delete n[i];return n}var Hr=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new dt;modelExtensionsCache=new dt;queryCallbacksCache=new dt;clientExtensions=In(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=In(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>id(this.previous?.getAllComputedFields(e),this.extension,e))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=Rt(e);return!this.extension.model||!(this.extension.model[t]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(e):{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let n=this.previous?.getAllQueryCallbacks(e,t)??[],r=[],i=this.extension.query;return!i||!(i[e]||i.$allModels||i[t]||i.$allOperations)?n:(i[e]!==void 0&&(i[e][t]!==void 0&&r.push(i[e][t]),i[e].$allOperations!==void 0&&r.push(i[e].$allOperations)),e!=="$none"&&i.$allModels!==void 0&&(i.$allModels[t]!==void 0&&r.push(i.$allModels[t]),i.$allModels.$allOperations!==void 0&&r.push(i.$allModels.$allOperations)),i[t]!==void 0&&r.push(i[t]),i.$allOperations!==void 0&&r.push(i.$allOperations),n.concat(r))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},Aa=class Lt{constructor(t){this.head=t}static empty(){return new Lt}static single(t){return new Lt(new Hr(t))}isEmpty(){return this.head===void 0}append(t){return new Lt(new Hr(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,n){return this.head?.getAllQueryCallbacks(t,n)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},Oa=class{constructor(e){this.name=e}};function ud(e){return e instanceof Oa}function cd(e){return new Oa(e)}var qa=Symbol(),Da=class{constructor(e){if(e!==qa)throw new Error("Skip instance can not be constructed directly")}ifUndefined(e){return e===void 0?Ia:e}},Ia=new Da(qa);function Ge(e){return e instanceof Da}var dd={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},Ca="explicitly `undefined` values are not allowed";function Fa({modelName:e,action:t,args:n,runtimeDataModel:r,extensions:i=Aa.empty(),callsite:a,clientMethod:s,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:c}){let d=new bd({runtimeDataModel:r,modelName:e,action:t,rootArgs:n,callsite:a,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:c});return{modelName:e,action:dd[t],query:bt(n,d)}}function bt({select:e,include:t,...n}={},r){let i=n.omit;return delete n.omit,{arguments:ja(n,r),selection:fd(e,t,i,r)}}function fd(e,t,n,r){return e?(t?r.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:r.getSelectionPath()}):n&&r.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:r.getSelectionPath()}),gd(e,r)):pd(r,t,n)}function pd(e,t,n){let r={};return e.modelOrType&&!e.isRawAction()&&(r.$composites=!0,r.$scalars=!0),t&&hd(r,t,e),md(r,n,e),r}function hd(e,t,n){for(let[r,i]of Object.entries(t)){if(Ge(i))continue;let a=n.nestSelection(r);if(yr(i,a),i===!1||i===void 0){e[r]=!1;continue}let s=n.findField(r);if(s&&s.kind!=="object"&&n.throwValidationError({kind:"IncludeOnScalar",selectionPath:n.getSelectionPath().concat(r),outputType:n.getOutputTypeDescription()}),s){e[r]=bt(i===!0?{}:i,a);continue}if(i===!0){e[r]=!0;continue}e[r]=bt(i,a)}}function md(e,t,n){let r=n.getComputedFields(),i={...n.getGlobalOmit(),...t},a=ld(i,r);for(let[s,o]of Object.entries(a)){if(Ge(o))continue;yr(o,n.nestSelection(s));let l=n.findField(s);r?.[s]&&!l||(e[s]=!o)}}function gd(e,t){let n={},r=t.getComputedFields(),i=od(e,r);for(let[a,s]of Object.entries(i)){if(Ge(s))continue;let o=t.nestSelection(a);yr(s,o);let l=t.findField(a);if(!(r?.[a]&&!l)){if(s===!1||s===void 0||Ge(s)){n[a]=!1;continue}if(s===!0){l?.kind==="object"?n[a]=bt({},o):n[a]=!0;continue}n[a]=bt(s,o)}}return n}function Va(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(lr(e)){if(Xi(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(ud(e))return{$type:"Param",value:e.name};if(pr(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return yd(e,t);if(ArrayBuffer.isView(e)){let{buffer:n,byteOffset:r,byteLength:i}=e;return{$type:"Bytes",value:Buffer.from(n,r,i).toString("base64")}}if(wd(e))return e.values;if(cr(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof un){if(e!==Ra.instances[e._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(vd(e))return e.toJSON();if(typeof e=="object")return ja(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function ja(e,t){if(e.$type)return{$type:"Raw",value:e};let n={};for(let r in e){let i=e[r],a=t.nestArgument(r);Ge(i)||(i!==void 0?n[r]=Va(i,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:Ca}))}return n}function yd(e,t){let n=[];for(let r=0;r<e.length;r++){let i=t.nestArgument(String(r)),a=e[r];if(a===void 0||Ge(a)){let s=a===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${r}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}n.push(Va(a,i))}return n}function wd(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function vd(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function yr(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:Ca})}var bd=class Bn{constructor(t){this.params=t,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){ka({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(n=>n.name===t)}nestSelection(t){let n=this.findField(t),r=n?.kind==="object"?n.type:void 0;return new Bn({...this.params,modelName:r,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[en(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:or(this.params.action,"Unknown action")}}nestArgument(t){return new Bn({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function Wr(e){if(!e._hasPreviewFlag("metrics"))throw new xe("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var Ua=class{_client;constructor(e){this._client=e}prometheus(e){return Wr(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return Wr(this._client),this._client._engine.metrics({format:"json",...e})}};function Ed(e,t){let n=In(()=>_d(t));Object.defineProperty(e,"dmmf",{get:()=>n.get()})}function _d(e){return{datamodel:{models:mn(e.models),enums:mn(e.enums),types:mn(e.types)}}}function mn(e){return Object.entries(e).map(([t,n])=>({name:t,...n}))}var gn=new WeakMap,Qt="$$PrismaTypedSql",La=class{constructor(e,t){gn.set(this,{sql:e,values:t}),Object.defineProperty(this,Qt,{value:Qt})}get sql(){return gn.get(this).sql}get values(){return gn.get(this).values}};function Pd(e){return(...t)=>new La(e,t)}function Ma(e){return e!=null&&e[Qt]===Qt}var xd=F(Ei()),Sd=require("node:async_hooks"),Rd=require("node:events"),Td=F(require("node:fs")),yn=F(require("node:path")),je=class Gn{constructor(t,n){if(t.length-1!==n.length)throw t.length===0?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let r=n.reduce((s,o)=>s+(o instanceof Gn?o.values.length:1),0);this.values=new Array(r),this.strings=new Array(r+1),this.strings[0]=t[0];let i=0,a=0;for(;i<n.length;){let s=n[i++],o=t[i];if(s instanceof Gn){this.strings[a]+=s.strings[0];let l=0;for(;l<s.values.length;)this.values[a++]=s.values[l++],this.strings[a]=s.strings[l];this.strings[a]+=o}else this.values[a++]=s,this.strings[a]=o}}get sql(){let t=this.strings.length,n=1,r=this.strings[0];for(;n<t;)r+=`?${this.strings[n++]}`;return r}get statement(){let t=this.strings.length,n=1,r=this.strings[0];for(;n<t;)r+=`:${n}${this.strings[n++]}`;return r}get text(){let t=this.strings.length,n=1,r=this.strings[0];for(;n<t;)r+=`$${n}${this.strings[n++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function $d(e,t=",",n="",r=""){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new je([n,...Array(e.length-1).fill(t),r],e)}function Ba(e){return new je([e],[])}var Nd=Ba("");function kd(e,...t){return new je(e,t)}function Ga(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}function ve(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}function wr(e){let t=new dt;return{getKeys(){return e.getKeys()},getPropertyValue(n){return t.getOrCreate(n,()=>e.getPropertyValue(n))},getPropertyDescriptor(n){return e.getPropertyDescriptor?.(n)}}}var Hn={enumerable:!0,configurable:!0,writable:!0};function Ha(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>Hn,has:(n,r)=>t.has(r),set:(n,r,i)=>t.add(r)&&Reflect.set(n,r,i),ownKeys:()=>[...t]}}var Kr=Symbol.for("nodejs.util.inspect.custom");function et(e,t){let n=Ad(t),r=new Set,i=new Proxy(e,{get(a,s){if(r.has(s))return a[s];let o=n.get(s);return o?o.getPropertyValue(s):a[s]},has(a,s){if(r.has(s))return!0;let o=n.get(s);return o?o.has?.(s)??!0:Reflect.has(a,s)},ownKeys(a){let s=Jr(Reflect.ownKeys(a),n),o=Jr(Array.from(n.keys()),n);return[...new Set([...s,...o,...r])]},set(a,s,o){return n.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(r.add(s),Reflect.set(a,s,o))},getOwnPropertyDescriptor(a,s){let o=Reflect.getOwnPropertyDescriptor(a,s);if(o&&!o.configurable)return o;let l=n.get(s);return l?l.getPropertyDescriptor?{...Hn,...l?.getPropertyDescriptor(s)}:Hn:o},defineProperty(a,s,o){return r.add(s),Reflect.defineProperty(a,s,o)},getPrototypeOf:()=>Object.prototype});return i[Kr]=function(){let a={...this};return delete a[Kr],a},i}function Ad(e){let t=new Map;for(let n of e){let r=n.getKeys();for(let i of r)t.set(i,n)}return t}function Jr(e,t){return e.filter(n=>t.get(n)?.has?.(n)??!0)}function Wn(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}function vr(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function Od(e){if(e===void 0)return"";let t=gr(e);return new ha(0,{colors:ma}).write(t).toString()}var qd="P2037";function br({error:e,user_facing_error:t},n,r){return t.error_code?new Ce(Dd(t,r),{code:t.error_code,clientVersion:n,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new ae(e,{clientVersion:n,batchRequestIdx:t.batch_request_idx})}function Dd(e,t){let n=e.message;return(t==="postgresql"||t==="postgres"||t==="mysql")&&e.error_code===qd&&(n+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),n}var Tt="<unknown>";function Id(e){var t=e.split(`
`);return t.reduce(function(n,r){var i=Vd(r)||Ud(r)||Bd(r)||Kd(r)||Hd(r);return i&&n.push(i),n},[])}var Cd=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Fd=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Vd(e){var t=Cd.exec(e);if(!t)return null;var n=t[2]&&t[2].indexOf("native")===0,r=t[2]&&t[2].indexOf("eval")===0,i=Fd.exec(t[2]);return r&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:n?null:t[2],methodName:t[1]||Tt,arguments:n?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var jd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Ud(e){var t=jd.exec(e);return t?{file:t[2],methodName:t[1]||Tt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Ld=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Md=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Bd(e){var t=Ld.exec(e);if(!t)return null;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=Md.exec(t[3]);return n&&r!=null&&(t[3]=r[1],t[4]=r[2],t[5]=null),{file:t[3],methodName:t[1]||Tt,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var Gd=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Hd(e){var t=Gd.exec(e);return t?{file:t[3],methodName:t[1]||Tt,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Wd=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Kd(e){var t=Wd.exec(e);return t?{file:t[2],methodName:t[1]||Tt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Jd=class{getLocation(){return null}},Qd=class{_error;constructor(){this._error=new Error}getLocation(){let e=this._error.stack;if(!e)return null;let t=Id(e).find(n=>{if(!n.file)return!1;let r=ou(n.file);return r!=="<anonymous>"&&!r.includes("@prisma")&&!r.includes("/packages/client/src/runtime/")&&!r.endsWith("/runtime/binary.js")&&!r.endsWith("/runtime/library.js")&&!r.endsWith("/runtime/edge.js")&&!r.endsWith("/runtime/edge-esm.js")&&!r.startsWith("internal/")&&!n.methodName.includes("new ")&&!n.methodName.includes("getCallSite")&&!n.methodName.includes("Proxy.")&&n.methodName.split(".").length<4});return!t||!t.file?null:{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}}};function ft(e){return e==="minimal"?typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new Jd:new Qd}var Yd={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Yt(e={}){let t=zd(e);return Object.entries(t).reduce((n,[r,i])=>(Yd[r]!==void 0?n.select[r]={select:i}:n[r]=i,n),{select:{}})}function zd(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function Kn(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function Zd(e,t){let n=Kn(e);return t({action:"aggregate",unpacker:n,argsMapper:Yt})(e)}function Xd(e={}){let{select:t,...n}=e;return Yt(typeof t=="object"?{...n,_count:t}:{...n,_count:{_all:!0}})}function ef(e={}){return typeof e.select=="object"?t=>Kn(e)(t)._count:t=>Kn(e)(t)._count._all}function tf(e,t){return t({action:"count",unpacker:ef(e),argsMapper:Xd})(e)}function nf(e={}){let t=Yt(e);if(Array.isArray(t.by))for(let n of t.by)typeof n=="string"&&(t.select[n]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function rf(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(n=>{n._count=n._count._all}),t)}function af(e,t){return t({action:"groupBy",unpacker:rf(e),argsMapper:nf})(e)}function sf(e,t,n){if(t==="aggregate")return r=>Zd(r,n);if(t==="count")return r=>tf(r,n);if(t==="groupBy")return r=>af(r,n)}function of(e,t){let n=t.fields.filter(i=>!i.relationName),r=pu(n,"name");return new Proxy({},{get(i,a){if(a in i||typeof a=="symbol")return i[a];let s=r[a];if(s)return new Sa(e,a,s.type,s.isList,s.kind==="enum")},...Ha(Object.keys(r))})}var Wa=e=>Array.isArray(e)?e:e.split("."),Ka=(e,t)=>Wa(t).reduce((n,r)=>n&&n[r],e),lf=(e,t,n)=>Wa(t).reduceRight((r,i,a,s)=>Object.assign({},Ka(e,s.slice(0,a)),{[i]:r}),n);function uf(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function cf(e,t,n){return t===void 0?e??{}:lf(t,n,e||!0)}function Ja(e,t,n,r,i,a){let s=e._runtimeDataModel.models[t].fields.reduce((o,l)=>({...o,[l.name]:l}),{});return o=>{let l=ft(e._errorFormat),u=uf(r,i),c=cf(o,a,u),d=n({dataPath:u,callsite:l})(c),f=df(e,t);return new Proxy(d,{get(p,g){if(!f.includes(g))return p[g];let m=[s[g].type,n,g],R=[u,c];return Ja(e,...m,...R)},...Ha([...f,...Object.getOwnPropertyNames(d)])})}}function df(e,t){return e._runtimeDataModel.models[t].fields.filter(n=>n.kind==="object").map(n=>n.name)}var ff=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],pf=["aggregate","count","groupBy"];function Qr(e,t){let n=e._extensions.getAllModelExtensions(t)??{},r=[hf(e,t),gf(e,t),Ga(n),ve("name",()=>t),ve("$name",()=>t),ve("$parent",()=>e._appliedParent)];return et({},r)}function hf(e,t){let n=Rt(t),r=Object.keys(sn).concat("count");return{getKeys(){return r},getPropertyValue(i){let a=i,s=o=>l=>{let u=ft(e._errorFormat);return e._createPrismaPromise(c=>{let d={args:l,dataPath:[],action:a,model:t,clientMethod:`${n}.${i}`,jsModelName:n,transaction:c,callsite:u};return e._request({...d,...o})},{action:a,args:l,model:t})};return ff.includes(a)?Ja(e,t,s):mf(i)?sf(e,i,s):s({})}}}function mf(e){return pf.includes(e)}function gf(e,t){return wr(ve("fields",()=>{let n=e._runtimeDataModel.models[t];return of(t,n)}))}function yf(e){return e.replace(/^./,t=>t.toUpperCase())}var Jn=Symbol();function Qn(e){let t=[wf(e),vf(e),ve(Jn,()=>e),ve("$parent",()=>e._appliedParent)],n=e._extensions.getAllClientExtensions();return n&&t.push(Ga(n)),et(e,t)}function wf(e){let t=Object.getPrototypeOf(e._originalClient),n=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return n},getPropertyValue(r){return e[r]}}}function vf(e){let t=Object.keys(e._runtimeDataModel.models),n=t.map(Rt),r=[...new Set(t.concat(n))];return wr({getKeys(){return r},getPropertyValue(i){let a=yf(i);if(e._runtimeDataModel.models[a]!==void 0)return Qr(e,a);if(e._runtimeDataModel.models[i]!==void 0)return Qr(e,i)},getPropertyDescriptor(i){if(!n.includes(i))return{enumerable:!1}}})}function bf(e){return e[Jn]?e[Jn]:e}function Ef(e){if(typeof e=="function")return e(this);if(e.client?.__AccelerateEngine){let n=e.client.__AccelerateEngine;this._originalClient._engine=new n(this._originalClient._accelerateEngineConfig)}let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return Qn(t)}function _f({result:e,modelName:t,select:n,omit:r,extensions:i}){let a=i.getAllComputedFields(t);if(!a)return e;let s=[],o=[];for(let l of Object.values(a)){if(r){if(r[l.name])continue;let u=l.needs.filter(c=>r[c]);u.length>0&&o.push(Wn(u))}else if(n){if(!n[l.name])continue;let u=l.needs.filter(c=>!n[c]);u.length>0&&o.push(Wn(u))}Pf(e,l.needs)&&s.push(xf(l,et(e,s)))}return s.length>0||o.length>0?et(e,[...s,...o]):e}function Pf(e,t){return t.every(n=>du(e,n))}function xf(e,t){return wr(ve(e.name,()=>e.compute(t)))}function Er({visitor:e,result:t,args:n,runtimeDataModel:r,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=Er({result:t[s],args:n,modelName:i,runtimeDataModel:r,visitor:e});return t}let a=e(t,i,n)??t;return n.include&&Yr({includeOrSelect:n.include,result:a,parentModelName:i,runtimeDataModel:r,visitor:e}),n.select&&Yr({includeOrSelect:n.select,result:a,parentModelName:i,runtimeDataModel:r,visitor:e}),a}function Yr({includeOrSelect:e,result:t,parentModelName:n,runtimeDataModel:r,visitor:i}){for(let[a,s]of Object.entries(e)){if(!s||t[a]==null||Ge(s))continue;let o=r.models[n].fields.find(u=>u.name===a);if(!o||o.kind!=="object"||!o.relationName)continue;let l=typeof s=="object"?s:{};t[a]=Er({visitor:i,result:t[a],args:l,modelName:o.type,runtimeDataModel:r})}}function Sf({result:e,modelName:t,args:n,extensions:r,runtimeDataModel:i,globalOmit:a}){return r.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:Er({result:e,args:n??{},modelName:t,runtimeDataModel:i,visitor:(s,o,l)=>{let u=Rt(o);return _f({result:s,modelName:u,select:l.select,omit:l.select?void 0:{...a?.[u],...l.omit},extensions:r})}})}var Rf=["$connect","$disconnect","$on","$transaction","$extends"],Tf=Rf;function $f(e){if(e instanceof je)return Nf(e);if(Ma(e))return kf(e);if(Array.isArray(e)){let n=[e[0]];for(let r=1;r<e.length;r++)n[r]=pt(e[r]);return n}let t={};for(let n in e)t[n]=pt(e[n]);return t}function Nf(e){return new je(e.strings,e.values)}function kf(e){return new La(e.sql,e.values)}function pt(e){if(typeof e!="object"||e==null||e instanceof un||pr(e))return e;if(cr(e))return new an(e.toFixed());if(lr(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,n;for(n=Array(t);t--;)n[t]=pt(e[t]);return n}if(typeof e=="object"){let t={};for(let n in e)n==="__proto__"?Object.defineProperty(t,n,{value:pt(e[n]),configurable:!0,enumerable:!0,writable:!0}):t[n]=pt(e[n]);return t}or(e,"Unknown value")}function Qa(e,t,n,r=0){return e._createPrismaPromise(i=>{let a=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),r===n.length?e._executeRequest(t):n[r]({model:t.model,operation:t.model?t.action:t.clientMethod,args:$f(t.args??{}),__internalParams:t,query:(s,o=t)=>{let l=o.customDataProxyFetch;return o.customDataProxyFetch=za(a,l),o.args=s,Qa(e,o,n,r+1)}})})}function Af(e,t){let{jsModelName:n,action:r,clientMethod:i}=t,a=n?r:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(n??"$none",a);return Qa(e,t,s)}function Of(e){return t=>{let n={requests:t},r=t[0].extensions.getAllBatchQueryCallbacks();return r.length?Ya(n,r,0,e):e(n)}}function Ya(e,t,n,r){if(n===t.length)return r(e);let i=e.customDataProxyFetch,a=e.requests[0].transaction;return t[n]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:a?{isolationLevel:a.kind==="batch"?a.isolationLevel:void 0}:void 0},__internalParams:e,query(s,o=e){let l=o.customDataProxyFetch;return o.customDataProxyFetch=za(i,l),Ya(o,t,n+1,r)}})}var zr=e=>e;function za(e=zr,t=zr){return n=>e(t(n))}var Zr=ee("prisma:client"),Xr={Vercel:"vercel","Netlify CI":"netlify"};function qf({postinstall:e,ciName:t,clientVersion:n,generator:r}){if(Zr("checkPlatformCaching:postinstall",e),Zr("checkPlatformCaching:ciName",t),e===!0&&!(r?.output&&typeof(r.output.fromEnvVar??r.output.value)=="string")&&t&&t in Xr){let i=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${Xr[t]}-build`;throw console.error(i),new W(i,n)}}function Df(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}var If=F(require("node:fs")),Mt=F(require("node:path"));function Za(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${Cf(e)}`}function Cf(e){let{generator:t,generatorBinaryTargets:n,runtimeBinaryTarget:r}=e,i={fromEnvVar:null,value:r},a=[...n,i];return Yl({...t,binaryTargets:a})}function cn(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function dn(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(n=>`  ${n}`).join(`
`)}`}function Ff(e){let{runtimeBinaryTarget:t}=e;return`${cn(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${Za(e)}

${dn(e)}`}function Xa(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function es(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function Vf(e){let{queryEngineName:t}=e;return`${cn(e)}${es(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${Xa("engine-not-found-bundler-investigation")}

${dn(e)}`}function jf(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:n}=e,r=n.find(i=>i.native);return`${cn(e)}

This happened because Prisma Client was generated for "${r?.value??"unknown"}", but the actual deployment required "${t}".
${Za(e)}

${dn(e)}`}function Uf(e){let{queryEngineName:t}=e;return`${cn(e)}${es(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${Xa("engine-not-found-tooling-investigation")}

${dn(e)}`}var Lf=ee("prisma:client:engines:resolveEnginePath"),Mf=()=>new RegExp("runtime[\\\\/]library\\.m?js$");async function Bf(e,t){let n={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(n!==void 0)return n;let{enginePath:r,searchedLocations:i}=await Gf(e,t);if(Lf("enginePath",r),r!==void 0&&e==="binary"&&Bl(r),r!==void 0)return t.prismaPath=r;let a=await nr(),s=t.generator?.binaryTargets??[],o=s.some(f=>f.native),l=!s.some(f=>f.value===a),u=__filename.match(Mf())===null,c={searchedLocations:i,generatorBinaryTargets:s,generator:t.generator,runtimeBinaryTarget:a,queryEngineName:ts(e,a),expectedLocation:Mt.default.relative(process.cwd(),t.dirname),errorStack:new Error().stack},d;throw o&&l?d=jf(c):l?d=Ff(c):u?d=Vf(c):d=Uf(c),new W(d,t.clientVersion)}async function Gf(e,t){let n=await nr(),r=[],i=[t.dirname,Mt.default.resolve(__dirname,".."),t.generator?.output?.value??__dirname,Mt.default.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];__filename.includes("resolveEnginePath")&&i.push(Ml());for(let a of i){let s=ts(e,n),o=Mt.default.join(a,s);if(r.push(a),If.default.existsSync(o))return{enginePath:o,searchedLocations:r}}return{enginePath:void 0,searchedLocations:r}}function ts(e,t){return e==="library"?Io(t,"fs"):`query-engine-${t}${t==="windows"?".exe":""}`}function Hf(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}function Wf(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var Kf=F(no());function Jf({title:e,user:t="prisma",repo:n="prisma",template:r="bug_report.yml",body:i}){return(0,Kf.default)({user:t,repo:n,template:r,title:e,body:i})}function Qf({version:e,binaryTarget:t,title:n,description:r,engineVersion:i,database:a,query:s}){let o=ko(6e3-(s?.length??0)),l=Wf(On(o)),u=r?`# Description
\`\`\`
${r}
\`\`\``:"",c=On(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${a?.padEnd(19)}|

${u}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?Hf(s):""}
\`\`\`
`),d=Jf({title:n,body:c});return`${n}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${se(d)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function Yf(e,t){throw new Error(t)}function zf(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Zf(e,t){let n={};for(let r of Object.keys(e))n[r]=t(e[r],r);return n}function zt(e){return e===null?e:Array.isArray(e)?e.map(zt):typeof e=="object"?zf(e)?Xf(e):e.constructor!==null&&e.constructor.name!=="Object"?e:Zf(e,zt):e}function Xf({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:n,byteOffset:r,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(n,r,i)}case"DateTime":return new Date(t);case"Decimal":return new We(t);case"Json":return JSON.parse(t);default:Yf(t,"Unknown tagged value")}}var ep="6.19.0",tp=()=>globalThis.process?.release?.name==="node",np=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,rp=()=>!!globalThis.Deno,ip=()=>typeof globalThis.Netlify=="object",ap=()=>typeof globalThis.EdgeRuntime=="object",sp=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function op(){return[[ip,"netlify"],[ap,"edge-light"],[sp,"workerd"],[rp,"deno"],[np,"bun"],[tp,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??""}var lp={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function ns(){let e=op();return{id:e,prettyName:lp[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function _r({inlineDatasources:e,overrideDatasources:t,env:n,clientVersion:r}){let i,a=Object.keys(e)[0],s=e[a]?.url,o=t[a]?.url;if(a===void 0?i=void 0:o?i=o:s?.value?i=s.value:s?.fromEnvVar&&(i=n[s.fromEnvVar]),s?.fromEnvVar!==void 0&&i===void 0)throw new W(`error: Environment variable not found: ${s.fromEnvVar}.`,r);if(i===void 0)throw new W("error: Missing URL environment variable, value, or override.",r);return i}var up=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},tt=class extends up{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function Z(e,t){return{...e,isRetryable:t}}var Bt=class extends tt{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,Z(t,!1))}};H(Bt,"InvalidDatasourceError");function cp(e){let t={clientVersion:e.clientVersion},n=Object.keys(e.inlineDatasources)[0],r=_r({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,...typeof process<"u"?process.env:{}}}),i;try{i=new URL(r)}catch{throw new Bt(`Error validating datasource \`${n}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:a,searchParams:s}=i;if(a!=="prisma:"&&a!==Bi)throw new Bt(`Error validating datasource \`${n}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let o=s.get("api_key");if(o===null||o.length<1)throw new Bt(`Error validating datasource \`${n}\`: the URL must contain a valid API key`,t);let l=Jl(i)?"http:":"https:";process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&i.searchParams.has("use_http")&&(l="http:");let u=new URL(i.href.replace(a,l));return{apiKey:o,url:u}}var dp=F(Xn()),fp=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:n,logQueries:r,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=n,this.logQueries=r,this.engineHash=i}build({traceparent:e,transactionId:t}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":dp.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=e??this.tracingHelper.getTraceParent()),t&&(n["X-Transaction-Id"]=t);let r=this.#e();return r.length>0&&(n["X-Capture-Telemetry"]=r.join(", ")),n}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function pp(e){return e[0]*1e3+e[1]/1e6}function ei(e){return new Date(pp(e))}var Yn=class extends tt{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",Z(e,!0))}};H(Yn,"ForcedRetryError");var Pr=class extends tt{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,Z(t,!1))}};H(Pr,"NotImplementedYetError");var ue=class extends tt{response;constructor(e,t){super(e,t),this.response=t.response;let n=this.response.headers.get("prisma-request-id");if(n){let r=`(The request id was: ${n})`;this.message=this.message+" "+r}}},xr=class extends ue{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",Z(e,!0))}};H(xr,"SchemaMissingError");var rs="This request could not be understood by the server",is=class extends ue{name="BadRequestError";code="P5000";constructor(e,t,n){super(t||rs,Z(e,!1)),n&&(this.code=n)}};H(is,"BadRequestError");var as=class extends ue{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",Z(e,!0)),this.logs=t}};H(as,"HealthcheckTimeoutError");var ss=class extends ue{name="EngineStartupError";code="P5014";logs;constructor(e,t,n){super(t,Z(e,!0)),this.logs=n}};H(ss,"EngineStartupError");var os=class extends ue{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",Z(e,!1))}};H(os,"EngineVersionNotSupportedError");var ls="Request timed out",us=class extends ue{name="GatewayTimeoutError";code="P5009";constructor(e,t=ls){super(t,Z(e,!1))}};H(us,"GatewayTimeoutError");var hp="Interactive transaction error",cs=class extends ue{name="InteractiveTransactionError";code="P5015";constructor(e,t=hp){super(t,Z(e,!1))}};H(cs,"InteractiveTransactionError");var mp="Request parameters are invalid",ds=class extends ue{name="InvalidRequestError";code="P5011";constructor(e,t=mp){super(t,Z(e,!1))}};H(ds,"InvalidRequestError");var fs="Requested resource does not exist",ps=class extends ue{name="NotFoundError";code="P5003";constructor(e,t=fs){super(t,Z(e,!1))}};H(ps,"NotFoundError");var hs="Unknown server error",zn=class extends ue{name="ServerError";code="P5006";logs;constructor(e,t,n){super(t||hs,Z(e,!0)),this.logs=n}};H(zn,"ServerError");var ms="Unauthorized, check your connection string",gs=class extends ue{name="UnauthorizedError";code="P5007";constructor(e,t=ms){super(t,Z(e,!1))}};H(gs,"UnauthorizedError");var ys="Usage exceeded, retry again later",ws=class extends ue{name="UsageExceededError";code="P5008";constructor(e,t=ys){super(t,Z(e,!0))}};H(ws,"UsageExceededError");async function gp(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let n=JSON.parse(t);if(typeof n=="string")switch(n){case"InternalDataProxyError":return{type:"DataProxyError",body:n};default:return{type:"UnknownTextError",body:n}}if(typeof n=="object"&&n!==null){if("is_panic"in n&&"message"in n&&"error_code"in n)return{type:"QueryEngineError",body:n};if("EngineNotStarted"in n||"InteractiveTransactionMisrouted"in n||"InvalidRequestError"in n){let r=Object.values(n)[0].reason;return typeof r=="string"&&!["SchemaMissing","EngineVersionNotSupported"].includes(r)?{type:"UnknownJsonError",body:n}:{type:"DataProxyError",body:n}}}return{type:"UnknownJsonError",body:n}}catch{return t===""?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function It(e,t){if(e.ok)return;let n={clientVersion:t,response:e},r=await gp(e);if(r.type==="QueryEngineError")throw new Ce(r.body.message,{code:r.body.error_code,clientVersion:t});if(r.type==="DataProxyError"){if(r.body==="InternalDataProxyError")throw new zn(n,"Internal Data Proxy error");if("EngineNotStarted"in r.body){if(r.body.EngineNotStarted.reason==="SchemaMissing")return new xr(n);if(r.body.EngineNotStarted.reason==="EngineVersionNotSupported")throw new os(n);if("EngineStartupError"in r.body.EngineNotStarted.reason){let{msg:i,logs:a}=r.body.EngineNotStarted.reason.EngineStartupError;throw new ss(n,i,a)}if("KnownEngineStartupError"in r.body.EngineNotStarted.reason){let{msg:i,error_code:a}=r.body.EngineNotStarted.reason.KnownEngineStartupError;throw new W(i,t,a)}if("HealthcheckTimeout"in r.body.EngineNotStarted.reason){let{logs:i}=r.body.EngineNotStarted.reason.HealthcheckTimeout;throw new as(n,i)}}if("InteractiveTransactionMisrouted"in r.body){let i={IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"};throw new cs(n,i[r.body.InteractiveTransactionMisrouted.reason])}if("InvalidRequestError"in r.body)throw new ds(n,r.body.InvalidRequestError.reason)}if(e.status===401||e.status===403)throw new gs(n,Ke(ms,r));if(e.status===404)return new ps(n,Ke(fs,r));if(e.status===429)throw new ws(n,Ke(ys,r));if(e.status===504)throw new us(n,Ke(ls,r));if(e.status>=500)throw new zn(n,Ke(hs,r));if(e.status>=400)throw new is(n,Ke(rs,r))}function Ke(e,t){return t.type==="EmptyError"?e:`${e}: ${JSON.stringify(t)}`}function yp(e){let t=Math.pow(2,e)*50,n=Math.ceil(Math.random()*t)-Math.ceil(t/2),r=t+n;return new Promise(i=>setTimeout(()=>i(r),r))}var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function wp(e){let t=new TextEncoder().encode(e),n="",r=t.byteLength,i=r%3,a=r-i,s,o,l,u,c;for(let d=0;d<a;d=d+3)c=t[d]<<16|t[d+1]<<8|t[d+2],s=(c&16515072)>>18,o=(c&258048)>>12,l=(c&4032)>>6,u=c&63,n+=_e[s]+_e[o]+_e[l]+_e[u];return i==1?(c=t[a],s=(c&252)>>2,o=(c&3)<<4,n+=_e[s]+_e[o]+"=="):i==2&&(c=t[a]<<8|t[a+1],s=(c&64512)>>10,o=(c&1008)>>4,l=(c&15)<<2,n+=_e[s]+_e[o]+_e[l]+"="),n}function vp(e){if(e.generator?.previewFeatures.some(t=>t.toLowerCase().includes("metrics")))throw new W("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}var bp={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},vs=class extends tt{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,Z(t,!0))}};H(vs,"RequestError");async function ot(e,t,n=r=>r){let{clientVersion:r,...i}=t,a=n(fetch);try{return await a(e,i)}catch(s){let o=s.message??"Unknown error";throw new vs(o,{clientVersion:r,cause:s})}}var Ep=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,bs=ee("prisma:client:dataproxyEngine");async function _p(e,t){let n=bp["@prisma/engines-version"],r=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&r!=="0.0.0"&&r!=="in-memory")return r;let[i,a]=r?.split("-")??[];if(a===void 0&&Ep.test(i))return i;if(a!==void 0||r==="0.0.0"||r==="in-memory"){let[s]=n.split("-")??[],[o,l,u]=s.split("."),c=xp(`<=${o}.${l}.${u}`),d=await ot(c,{clientVersion:r});if(!d.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${d.status} ${d.statusText}, response body: ${await d.text()||"<empty body>"}`);let f=await d.text();bs("length of body fetched from unpkg.com",f.length);let p;try{p=JSON.parse(f)}catch(g){throw console.error("JSON.parse error: body fetched from unpkg.com: ",f),g}return p.version}throw new Pr("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:r})}async function Pp(e,t){let n=await _p(e,t);return bs("version",n),n}function xp(e){return encodeURI(`https://unpkg.com/prisma@${e}/package.json`)}var ti=3,it=ee("prisma:client:dataproxyEngine"),Sp=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){vp(e),this.config=e,this.env=e.env,this.inlineSchema=wp(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){this.startPromise!==void 0&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new fp({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await Pp(this.host,this.config),it("host",this.host),it("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(t=>{switch(t.level){case"debug":case"trace":it(t);break;case"error":case"warn":case"info":{this.logEmitter.emit(t.level,{timestamp:ei(t.timestamp),message:t.attributes.message??"",target:t.target??"BinaryEngine"});break}case"query":{this.logEmitter.emit("query",{query:t.attributes.query??"",timestamp:ei(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"BinaryEngine"});break}default:t.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){let e={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(e,async()=>{let t=await ot(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});t.ok||it("schema response status",t.status);let n=await It(t,this.clientVersion);if(n)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${n.message}`,timestamp:new Date,target:""}),n;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:n,customDataProxyFetch:r}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:n,customDataProxyFetch:r})}async requestBatch(e,{traceparent:t,transaction:n,customDataProxyFetch:r}){let i=n?.kind==="itx"?n.options:void 0,a=vr(e,n);return(await this.requestInternal({body:a,customDataProxyFetch:r,interactiveTransaction:i,traceparent:t})).map(s=>(s.extensions&&this.propagateResponseExtensions(s.extensions),"errors"in s?this.convertProtocolErrorsToClientError(s.errors):s))}requestInternal({body:e,traceparent:t,customDataProxyFetch:n,interactiveTransaction:r}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let a=r?`${r.payload.endpoint}/graphql`:await this.url("graphql");i(a);let s=await ot(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:r?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},n);s.ok||it("graphql response status",s.status),await this.handleError(await It(s,this.clientVersion));let o=await s.json();if(o.extensions&&this.propagateResponseExtensions(o.extensions),"errors"in o)throw this.convertProtocolErrorsToClientError(o.errors);return"batchResult"in o?o.batchResult:o}})}async transaction(e,t,n){let r={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${r[e]} transaction`,callback:async({logHttpCall:i})=>{if(e==="start"){let a=JSON.stringify({max_wait:n.maxWait,timeout:n.timeout,isolation_level:n.isolationLevel}),s=await this.url("transaction/start");i(s);let o=await ot(s,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:a,clientVersion:this.clientVersion});await this.handleError(await It(o,this.clientVersion));let l=await o.json(),{extensions:u}=l;u&&this.propagateResponseExtensions(u);let c=l.id,d=l["data-proxy"].endpoint;return{id:c,payload:{endpoint:d}}}else{let a=`${n.payload.endpoint}/${e}`;i(a);let s=await ot(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await It(s,this.clientVersion));let o=await s.json(),{extensions:l}=o;l&&this.propagateResponseExtensions(l);return}}})}getURLAndAPIKey(){return cp({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new Pr("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let n=r=>{this.logEmitter.emit("info",{message:`Calling ${r} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:n})}catch(r){if(!(r instanceof tt)||!r.isRetryable)throw r;if(t>=ti)throw r instanceof Yn?r.cause:r;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/${ti} failed for ${e.actionGerund}: ${r.message??"(unknown)"}`,timestamp:new Date,target:""});let i=await yp(t);this.logEmitter.emit("warn",{message:`Retrying after ${i}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof xr)throw await this.uploadSchema(),new Yn({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return e.length===1?br(e[0],this.config.clientVersion,this.config.activeProvider):new ae(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function Rp(e){if(e?.kind==="itx")return e.options.id}var ni=F(require("node:os")),Tp=F(require("node:path")),wn=Symbol("PrismaLibraryEngineCache");function $p(){let e=globalThis;return e[wn]===void 0&&(e[wn]={}),e[wn]}function Np(e){let t=$p();if(t[e]!==void 0)return t[e];let n=Tp.default.toNamespacedPath(e),r={exports:{}},i=0;return process.platform!=="win32"&&(i=ni.default.constants.dlopen.RTLD_LAZY|ni.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(r,n,i),t[e]=r.exports,r.exports}var kp={async loadLibrary(e){let t=await tl(),n=await Bf("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>Np(n))}catch(r){let i=Gl({e:r,platformInfo:t,id:n});throw new W(i,e.clientVersion)}}},vn,Ap={async loadLibrary(e){let{clientVersion:t,adapter:n,engineWasm:r}=e;if(n===void 0)throw new W(`The \`adapter\` option for \`PrismaClient\` is required in this context (${ns().prettyName})`,t);if(r===void 0)throw new W("WASM engine was unexpectedly `undefined`",t);vn===void 0&&(vn=(async()=>{let a=await r.getRuntime(),s=await r.getQueryEngineWasmModule();if(s==null)throw new W("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let o={"./query_engine_bg.js":a},l=new WebAssembly.Instance(s,o),u=l.exports.__wbindgen_start;return a.__wbg_set_wasm(l.exports),u(),a.QueryEngine})());let i=await vn;return{debugPanic(){return Promise.reject("{}")},dmmf(){return Promise.resolve("{}")},version(){return{commit:"unknown",version:"unknown"}},QueryEngine:i}}},Op="P2036",pe=ee("prisma:client:libraryEngine");function qp(e){return e.item_type==="query"&&"query"in e}function Dp(e){return"level"in e?e.level==="error"&&e.message==="PANIC":!1}var ri=[...Do,"native"],Ip=0xffffffffffffffffn,bn=1n;function Cp(){let e=bn++;return bn>Ip&&(bn=1n),e}var ii=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??kp,e.engineWasm!==void 0&&(this.libraryLoader=t??Ap),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let n=Object.keys(e.overrideDatasources)[0],r=e.overrideDatasources[n]?.url;n!==void 0&&r!==void 0&&(this.datasourceOverrides={[n]:r}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let n=Cp().toString();try{return await e(...t,n)}finally{if(this.tracingHelper.isEnabled()){let r=await this.engine?.trace(n);if(r){let i=JSON.parse(r);this.tracingHelper.dispatchEngineSpans(i.spans)}}}}}async applyPendingMigrations(){throw new Error("Cannot call this method from this type of engine instance")}async transaction(e,t,n){await this.start();let r=await this.adapterPromise,i=JSON.stringify(t),a;if(e==="start"){let o=JSON.stringify({max_wait:n.maxWait,timeout:n.timeout,isolation_level:n.isolationLevel});a=await this.engine?.startTransaction(o,i)}else e==="commit"?a=await this.engine?.commitTransaction(n.id,i):e==="rollback"&&(a=await this.engine?.rollbackTransaction(n.id,i));let s=this.parseEngineResponse(a);if(Fp(s)){let o=this.getExternalAdapterError(s,r?.errorRegistry);throw o?o.error:new Ce(s.message,{code:s.error_code,clientVersion:this.config.clientVersion,meta:s.meta})}else if(typeof s.message=="string")throw new ae(s.message,{clientVersion:this.config.clientVersion});return s}async instantiateLibrary(){if(pe("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;qo(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>nr());if(!ri.includes(e))throw new W(`Unknown ${Be("PRISMA_QUERY_ENGINE_LIBRARY")} ${Be(ce(e))}. Possible binaryTargets: ${ht(ri.join(", "))} or a path to the query engine library.
You may have to run ${ht("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new ae("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new ae("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(Or));let t=await this.adapterPromise;t&&pe("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},n=>{e.deref()?.logger(n)},t))}catch(e){let t=e,n=this.parseInitError(t.message);throw typeof n=="string"?t:new W(n.message,this.config.clientVersion,n.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown",qp(t)?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):Dp(t)?this.loggerRustPanic=new De(En(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return pe(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{pe("library starting");try{let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(t)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(Or)),await this.adapterPromise,pe("library started")}catch(t){let n=this.parseInitError(t.message);throw typeof n=="string"?t:new W(n.message,this.config.clientVersion,n.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return pe("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(n=>setImmediate(n)),pe("library stopping");let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(t)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,pe("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:n}){pe(`sending request, this.libraryStarted: ${this.libraryStarted}`);let r=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let a=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,r,n?.id),this.lastQuery=i;let s=this.parseEngineResponse(await this.executingQueryPromise);if(s.errors)throw s.errors.length===1?this.buildQueryError(s.errors[0],a?.errorRegistry):new ae(JSON.stringify(s.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:s}}catch(a){if(a instanceof W)throw a;if(a.code==="GenericFailure"&&a.message?.startsWith("PANIC:"))throw new De(En(this,a.message),this.config.clientVersion);let s=this.parseRequestError(a.message);throw typeof s=="string"?a:new ae(`${s.message}
${s.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:n}){pe("requestBatch");let r=vr(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(r),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:n}),Rp(t));let a=await this.executingQueryPromise,s=this.parseEngineResponse(a);if(s.errors)throw s.errors.length===1?this.buildQueryError(s.errors[0],i?.errorRegistry):new ae(JSON.stringify(s.errors),{clientVersion:this.config.clientVersion});let{batchResult:o,errors:l}=s;if(Array.isArray(o))return o.map(u=>u.errors&&u.errors.length>0?this.loggerRustPanic??this.buildQueryError(u.errors[0],i?.errorRegistry):{data:u});throw l&&l.length===1?new Error(l[0].error):new Error(JSON.stringify(s))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new De(En(this,e.user_facing_error.message),this.config.clientVersion);let n=this.getExternalAdapterError(e.user_facing_error,t);return n?n.error:br(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if(e.error_code===Op&&t){let n=e.meta?.id;Ir(typeof n=="number","Malformed external JS error received from the engine");let r=t.consumeError(n);return Ir(r,"External error with reported id was not registered"),r}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return e.format==="prometheus"?t:this.parseEngineResponse(t)}};function Fp(e){return typeof e=="object"&&e!==null&&e.error_code!==void 0}function En(e,t){return Qf({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function Vp({url:e,adapter:t,copyEngine:n,targetBuildType:r}){let i=[],a=[],s=m=>{i.push({_tag:"warning",value:m})},o=m=>{let R=m.join(`
`);a.push({_tag:"error",value:R})},l=!!e?.startsWith("prisma://"),u=Gi(e),c=!!t,d=l||u;!c&&n&&d&&r!=="client"&&r!=="wasm-compiler-edge"&&s(["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]);let f=d||!n;c&&(f||r==="edge")&&(r==="edge"?o(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):d?o(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):n||o(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let p={accelerate:f,ppg:u,driverAdapters:c};function g(m){return m.length>0}return g(a)?{ok:!1,diagnostics:{warnings:i,errors:a},isUsing:p}:{ok:!0,diagnostics:{warnings:i},isUsing:p}}function jp({copyEngine:e=!0},t){let n;try{n=_r({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:r,isUsing:i,diagnostics:a}=Vp({url:n,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let d of a.warnings)zi(...d.value);if(!r){let d=a.errors[0];throw new xe(d.value,{clientVersion:t.clientVersion})}let s=kn(t.generator),o=s==="library",l=s==="binary",u=s==="client",c=(i.accelerate||i.ppg)&&!i.driverAdapters;return i.accelerate?new Sp(t):(i.driverAdapters,o?new ii(t):(i.accelerate,new ii(t)))}function Up({generator:e}){return e?.previewFeatures??[]}var Lp=e=>({command:e}),Mp=e=>e.strings.reduce((t,n,r)=>`${t}@P${r}${n}`);function at(e){try{return ai(e,"fast")}catch{return ai(e,"slow")}}function ai(e,t){return JSON.stringify(e.map(n=>Es(n,t)))}function Es(e,t){if(Array.isArray(e))return e.map(n=>Es(n,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(lr(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(an.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Bp(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:n,byteOffset:r,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(n,r,i).toString("base64")}}return typeof e=="object"&&t==="slow"?_s(e):e}function Bp(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function _s(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(si);let t={};for(let n of Object.keys(e))t[n]=si(e[n]);return t}function si(e){return typeof e=="bigint"?e.toString():_s(e)}var Gp=/^(\s*alter\s)/i,oi=ee("prisma:client");function li(e,t,n,r){if(!(e!=="postgresql"&&e!=="cockroachdb")&&n.length>0&&Gp.exec(t))throw new Error(`Running ALTER using ${r} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var ui=({clientMethod:e,activeProvider:t})=>n=>{let r="",i;if(Ma(n))r=n.sql,i={values:at(n.values),__prismaRawParameters__:!0};else if(Array.isArray(n)){let[a,...s]=n;r=a,i={values:at(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{r=n.sql,i={values:at(n.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{r=n.text,i={values:at(n.values),__prismaRawParameters__:!0};break}case"sqlserver":{r=Mp(n),i={values:at(n.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?oi(`prisma.${e}(${r}, ${i.values})`):oi(`prisma.${e}(${r})`),{query:r,parameters:i}},Hp={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...n]=e;return new je(t,n)}},Wp={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function ci(e){return function(t,n){let r,i=(a=e)=>{try{return a===void 0||a?.kind==="itx"?r??=di(t(a)):di(t(a))}catch(s){return Promise.reject(s)}};return{get spec(){return n},then(a,s){return i().then(a,s)},catch(a){return i().catch(a)},finally(a){return i().finally(a)},requestTransaction(a){let s=i(a);return s.requestTransaction?s.requestTransaction(a):s},[Symbol.toStringTag]:"PrismaPromise"}}}function di(e){return typeof e.then=="function"?e:Promise.resolve(e)}var Kp=Cl.split(".")[0],Jp={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},Qp=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${Kp}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??Jp}};function Yp(){return new Qp}function zp(e,t=()=>{}){let n,r=new Promise(i=>n=i);return{then(i){return--e===0&&n(t()),i?.(r)}}}function Zp(e){return typeof e=="string"?e:e.reduce((t,n)=>{let r=typeof n=="string"?n:n.level;return r==="query"?t:t&&(n==="info"||t==="info")?"info":r},void 0)}function Ps(e){return typeof e.batchRequestIdx=="number"}function Xp(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Zn(e.query.arguments)),t.push(Zn(e.query.selection)),t.join("")}function Zn(e){return`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n=="object"&&n!==null?`(${t} ${Zn(n)})`:t}).join(" ")})`}var eh={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function fi(e){return eh[e]}var th=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,r)=>{this.batches[t].push({request:e,resolve:n,reject:r})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(n=>{n instanceof Error?t[0].reject(n):t[0].resolve(n)}).catch(n=>{t[0].reject(n)}):(t.sort((n,r)=>this.options.batchOrder(n.request,r.request)),this.options.batchLoader(t.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(n);else for(let r=0;r<t.length;r++){let i=n[r];i instanceof Error?t[r].reject(i):t[r].resolve(i)}}).catch(n=>{for(let r=0;r<t.length;r++)t[r].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function Le(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:n,byteOffset:r,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(n,r,i)}case"decimal":return new an(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(n=>Le("bigint",n));case"bytes-array":return t.map(n=>Le("bytes",n));case"decimal-array":return t.map(n=>Le("decimal",n));case"datetime-array":return t.map(n=>Le("datetime",n));case"date-array":return t.map(n=>Le("date",n));case"time-array":return t.map(n=>Le("time",n));default:return t}}function xs(e){let t=[],n=nh(e);for(let r=0;r<e.rows.length;r++){let i=e.rows[r],a={...n};for(let s=0;s<i.length;s++)a[e.columns[s]]=Le(e.types[s],i[s]);t.push(a)}return t}function nh(e){let t={};for(let n=0;n<e.columns.length;n++)t[e.columns[n]]=null;return t}var rh=ee("prisma:client:request_handler"),ih=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new th({batchLoader:Of(async({requests:n,customDataProxyFetch:r})=>{let{transaction:i,otelParentCtx:a}=n[0],s=n.map(u=>u.protocolQuery),o=this.client._tracingHelper.getTraceParent(a),l=n.some(u=>fi(u.protocolQuery.action));return(await this.client._engine.requestBatch(s,{traceparent:o,transaction:ah(i),containsWrite:l,customDataProxyFetch:r})).map((u,c)=>{if(u instanceof Error)return u;try{return this.mapQueryEngineResult(n[c],u)}catch(d){return d}})}),singleLoader:async n=>{let r=n.transaction?.kind==="itx"?Ss(n.transaction):void 0,i=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:r,isWrite:fi(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,i)},batchBy:n=>n.transaction?.id?`transaction-${n.transaction.id}`:Xp(n.protocolQuery),batchOrder(n,r){return n.transaction?.kind==="batch"&&r.transaction?.kind==="batch"?n.transaction.index-r.transaction.index:0}})}async request(e){try{return await this.dataloader.request(e)}catch(t){let{clientMethod:n,callsite:r,transaction:i,args:a,modelName:s}=e;this.handleAndLogRequestError({error:t,clientMethod:n,callsite:r,transaction:i,args:a,modelName:s,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},n){let r=n?.data,i=this.unpack(r,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:n,transaction:r,args:i,modelName:a,globalOmit:s}){if(rh(e),sh(e,r))throw e;if(e instanceof Ce&&oh(e)){let l=Rs(e.meta);ka({args:i,errors:[l],callsite:n,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:s})}let o=e.message;if(n&&(o=fa({callsite:n,originalMethod:t,isPanic:e.isPanic,showColors:this.client._errorFormat==="pretty",message:o})),o=this.sanitizeMessage(o),e.code){let l=a?{modelName:a,...e.meta}:e.meta;throw new Ce(o,{code:e.code,clientVersion:this.client._clientVersion,meta:l,batchRequestIdx:e.batchRequestIdx})}else{if(e.isPanic)throw new De(o,this.client._clientVersion);if(e instanceof ae)throw new ae(o,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof W)throw new W(o,this.client._clientVersion);if(e instanceof De)throw new De(o,this.client._clientVersion)}throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?On(e):e}unpack(e,t,n){if(!e||(e.data&&(e=e.data),!e))return e;let r=Object.keys(e)[0],i=Object.values(e)[0],a=t.filter(l=>l!=="select"&&l!=="include"),s=Ka(i,a),o=r==="queryRaw"?xs(s):zt(s);return n?n(o):o}get[Symbol.toStringTag](){return"RequestHandler"}};function ah(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:Ss(e)};or(e,"Unknown transaction kind")}}function Ss(e){return{id:e.id,payload:e.payload}}function sh(e,t){return Ps(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function oh(e){return e.code==="P2009"||e.code==="P2012"}function Rs(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(Rs)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var lh=ep,uh=F(Pi()),U=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};H(U,"PrismaClientConstructorValidationError");var pi=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],hi=["pretty","colorless","minimal"],mi=["info","query","warn","error"],ch={datasources:(e,{datasourceNames:t})=>{if(e){if(typeof e!="object"||Array.isArray(e))throw new U(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[n,r]of Object.entries(e)){if(!t.includes(n)){let i=Je(n,t)||` Available datasources: ${t.join(", ")}`;throw new U(`Unknown datasource ${n} provided to PrismaClient constructor.${i}`)}if(typeof r!="object"||Array.isArray(r))throw new U(`Invalid value ${JSON.stringify(e)} for datasource "${n}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(r&&typeof r=="object")for(let[i,a]of Object.entries(r)){if(i!=="url")throw new U(`Invalid value ${JSON.stringify(e)} for datasource "${n}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof a!="string")throw new U(`Invalid value ${JSON.stringify(a)} for datasource "${n}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&kn(t.generator)==="client")throw new U('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(e!==null){if(e===void 0)throw new U('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(kn(t.generator)==="binary")throw new U('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if(typeof e<"u"&&typeof e!="string")throw new U(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if(typeof e!="string")throw new U(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!hi.includes(e)){let t=Je(e,hi);throw new U(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new U(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(n){if(typeof n=="string"&&!mi.includes(n)){let r=Je(n,mi);throw new U(`Invalid log level "${n}" provided to PrismaClient constructor.${r}`)}}for(let n of e){t(n);let r={level:t,emit:i=>{let a=["stdout","event"];if(!a.includes(i)){let s=Je(i,a);throw new U(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(n&&typeof n=="object")for(let[i,a]of Object.entries(n))if(r[i])r[i](a);else throw new U(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new U(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let n=e.timeout;if(n!=null&&n<=0)throw new U(`Invalid value ${n} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new U('"omit" option is expected to be an object.');if(e===null)throw new U('"omit" option can not be `null`');let n=[];for(let[r,i]of Object.entries(e)){let a=ph(r,t.runtimeDataModel);if(!a){n.push({kind:"UnknownModel",modelKey:r});continue}for(let[s,o]of Object.entries(i)){let l=a.fields.find(u=>u.name===s);if(!l){n.push({kind:"UnknownField",modelKey:r,fieldName:s});continue}if(l.relationName){n.push({kind:"RelationInOmit",modelKey:r,fieldName:s});continue}typeof o!="boolean"&&n.push({kind:"InvalidFieldValue",modelKey:r,fieldName:s})}}if(n.length>0)throw new U(hh(e,n))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new U(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[n]of Object.entries(e))if(!t.includes(n)){let r=Je(n,t);throw new U(`Invalid property ${JSON.stringify(n)} for "__internal" provided to PrismaClient constructor.${r}`)}}};function dh(e,t){for(let[n,r]of Object.entries(e)){if(!pi.includes(n)){let i=Je(n,pi);throw new U(`Unknown property ${n} provided to PrismaClient constructor.${i}`)}ch[n](r,t)}if(e.datasourceUrl&&e.datasources)throw new U('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function Je(e,t){if(t.length===0||typeof e!="string")return"";let n=fh(e,t);return n?` Did you mean "${n}"?`:""}function fh(e,t){if(t.length===0)return null;let n=t.map(i=>({value:i,distance:(0,uh.default)(e,i)}));n.sort((i,a)=>i.distance<a.distance?-1:1);let r=n[0];return r.distance<3?r.value:null}function ph(e,t){return gi(t.models,e)??gi(t.types,e)}function gi(e,t){let n=Object.keys(e).find(r=>en(r)===t);if(n)return e[n]}function hh(e,t){let n=gr(e);for(let a of t)switch(a.kind){case"UnknownModel":n.arguments.getField(a.modelKey)?.markAsError(),n.addErrorMessage(()=>`Unknown model name: ${a.modelKey}.`);break;case"UnknownField":n.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),n.addErrorMessage(()=>`Model "${a.modelKey}" does not have a field named "${a.fieldName}".`);break;case"RelationInOmit":n.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),n.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":n.arguments.getDeepFieldValue([a.modelKey,a.fieldName])?.markAsError(),n.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:r,args:i}=Na(n,"colorless");return`Error validating "omit" option:

${i}

${r}`}function mh(e){return e.length===0?Promise.resolve([]):new Promise((t,n)=>{let r=new Array(e.length),i=null,a=!1,s=0,o=()=>{a||(s++,s===e.length&&(a=!0,i?n(i):t(r)))},l=u=>{a||(a=!0,n(u))};for(let u=0;u<e.length;u++)e[u].then(c=>{r[u]=c,o()},c=>{if(!Ps(c)){l(c);return}c.batchRequestIdx===u?l(c):(i||(i=c),o())})})}var Te=ee("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var gh={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},yh=Symbol.for("prisma.client.transaction.id"),wh={id:0,nextId(){return++this.id}};function vh(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=ci();constructor(r){e=r?.__internal?.configOverride?.(e)??e,qf(e),r&&dh(r,e);let i=new Rd.EventEmitter().on("error",()=>{});this._extensions=Aa.empty(),this._previewFeatures=Up(e),this._clientVersion=e.clientVersion??lh,this._activeProvider=e.activeProvider,this._globalOmit=r?.omit,this._tracingHelper=Yp();let a=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&yn.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&yn.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},s;if(r?.adapter){s=r.adapter;let l=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(s.provider!==l)throw new W(`The Driver Adapter \`${s.adapterName}\`, based on \`${s.provider}\`, is not compatible with the provider \`${l}\` specified in the Prisma schema.`,this._clientVersion);if(r.datasources||r.datasourceUrl!==void 0)throw new W("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let o=!s&&a&&Ji(a,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let l=r??{},u=l.__internal??{},c=u.debug===!0;c&&ee.enable("prisma:client");let d=yn.default.resolve(e.dirname,e.relativePath);Td.default.existsSync(d)||(d=e.dirname),Te("dirname",e.dirname),Te("relativePath",e.relativePath),Te("cwd",d);let f=u.engine||{};if(l.errorFormat?this._errorFormat=l.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:d,dirname:e.dirname,enableDebugLogs:c,allowTriggerPanic:f.allowTriggerPanic,prismaPath:f.binaryPath??void 0,engineEndpoint:f.endpoint,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:l.log&&Zp(l.log),logQueries:l.log&&!!(typeof l.log=="string"?l.log==="query":l.log.find(p=>typeof p=="string"?p==="query":p.level==="query")),env:o?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:Df(l,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:l.transactionOptions?.maxWait??2e3,timeout:l.transactionOptions?.timeout??5e3,isolationLevel:l.transactionOptions?.isolationLevel},logEmitter:i,isBundled:e.isBundled,adapter:s},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:_r,getBatchRequestPayload:vr,prismaGraphQLToJSError:br,PrismaClientUnknownRequestError:ae,PrismaClientInitializationError:W,PrismaClientKnownRequestError:Ce,debug:ee("prisma:client:accelerateEngine"),engineVersion:xd.version,clientVersion:e.clientVersion}},Te("clientVersion",e.clientVersion),this._engine=jp(e,this._engineConfig),this._requestHandler=new ih(this,i),l.log)for(let p of l.log){let g=typeof p=="string"?p:p.emit==="stdout"?p.level:null;g&&this.$on(g,m=>{An.log(`${An.tags[g]??""}`,m.message||m.query)})}}catch(l){throw l.clientVersion=this._clientVersion,l}return this._appliedParent=Qn(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(r,i){return r==="beforeExit"?this._engine.onBeforeExit(i):r&&this._engineConfig.logEmitter.on(r,i),this}$connect(){try{return this._engine.start()}catch(r){throw r.clientVersion=this._clientVersion,r}}async $disconnect(){try{await this._engine.stop()}catch(r){throw r.clientVersion=this._clientVersion,r}finally{Ao()}}$executeRawInternal(r,i,a,s){let o=this._activeProvider;return this._request({action:"executeRaw",args:a,transaction:r,clientMethod:i,argsMapper:ui({clientMethod:i,activeProvider:o}),callsite:ft(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(r,...i){return this._createPrismaPromise(a=>{if(r.raw!==void 0||r.sql!==void 0){let[s,o]=yi(r,i);return li(this._activeProvider,s.text,s.values,Array.isArray(r)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(a,"$executeRaw",s,o)}throw new xe("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(r,...i){return this._createPrismaPromise(a=>(li(this._activeProvider,r,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(a,"$executeRawUnsafe",[r,...i])))}$runCommandRaw(r){if(e.activeProvider!=="mongodb")throw new xe(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:r,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Lp,callsite:ft(this._errorFormat),transaction:i}))}async $queryRawInternal(r,i,a,s){let o=this._activeProvider;return this._request({action:"queryRaw",args:a,transaction:r,clientMethod:i,argsMapper:ui({clientMethod:i,activeProvider:o}),callsite:ft(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(r,...i){return this._createPrismaPromise(a=>{if(r.raw!==void 0||r.sql!==void 0)return this.$queryRawInternal(a,"$queryRaw",...yi(r,i));throw new xe("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(r){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new xe("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",r)})}$queryRawUnsafe(r,...i){return this._createPrismaPromise(a=>this.$queryRawInternal(a,"$queryRawUnsafe",[r,...i]))}_transactionWithArray({promises:r,options:i}){let a=wh.nextId(),s=zp(r.length),o=r.map((l,u)=>{if(l?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let c=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,d={kind:"batch",id:a,index:u,isolationLevel:c,lock:s};return l.requestTransaction?.(d)??l});return mh(o)}async _transactionWithCallback({callback:r,options:i}){let a={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},o=await this._engine.transaction("start",a,s),l;try{let u={kind:"itx",...o};l=await r(this._createItxClient(u)),await this._engine.transaction("commit",a,o)}catch(u){throw await this._engine.transaction("rollback",a,o).catch(()=>{}),u}return l}_createItxClient(r){return et(Qn(et(bf(this),[ve("_appliedParent",()=>this._appliedParent._createItxClient(r)),ve("_createPrismaPromise",()=>ci(r)),ve(yh,()=>r.id)])),[Wn(Tf)])}$transaction(r,i){let a;typeof r=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?a=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:a=()=>this._transactionWithCallback({callback:r,options:i}):a=()=>this._transactionWithArray({promises:r,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,a)}_request(r){r.otelParentCtx=this._tracingHelper.getActiveContext();let i=r.middlewareArgsMapper??gh,a={args:i.requestArgsToMiddlewareArgs(r.args),dataPath:r.dataPath,runInTransaction:!!r.transaction,action:r.action,model:r.model},s={operation:{name:"operation",attributes:{method:a.action,model:a.model,name:a.model?`${a.model}.${a.action}`:a.action}}},o=async l=>{let{runInTransaction:u,args:c,...d}=l,f={...r,...d};c&&(f.args=i.middlewareArgsToRequestArgs(c)),r.transaction!==void 0&&u===!1&&delete f.transaction;let p=await Af(this,f);return f.model?Sf({result:p,modelName:f.model,args:f.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):p};return this._tracingHelper.runInChildSpan(s.operation,()=>new Sd.AsyncResource("prisma-client-request").runInAsyncScope(()=>o(a)))}async _executeRequest({args:r,clientMethod:i,dataPath:a,callsite:s,action:o,model:l,argsMapper:u,transaction:c,unpacker:d,otelParentCtx:f,customDataProxyFetch:p}){try{r=u?u(r):r;let g={name:"serialize"},m=this._tracingHelper.runInChildSpan(g,()=>Fa({modelName:l,runtimeDataModel:this._runtimeDataModel,action:o,args:r,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return ee.enabled("prisma:client")&&(Te("Prisma Client call:"),Te(`prisma.${i}(${Od(r)})`),Te("Generated request:"),Te(JSON.stringify(m,null,2)+`
`)),c?.kind==="batch"&&await c.lock,this._requestHandler.request({protocolQuery:m,modelName:l,action:o,clientMethod:i,dataPath:a,callsite:s,args:r,extensions:this._extensions,transaction:c,unpacker:d,otelParentCtx:f,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:p})}catch(g){throw g.clientVersion=this._clientVersion,g}}$metrics=new Ua(this);_hasPreviewFlag(r){return!!this._engineConfig.previewFeatures?.includes(r)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=Ef}return t}function yi(e,t){return bh(e)?[new je(e,t),Hp]:[e,Wp]}function bh(e){return Array.isArray(e)&&Array.isArray(e.raw)}var Eh=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function _h(e){return new Proxy(e,{get(t,n){if(n in t)return t[n];if(!Eh.has(n))throw new TypeError(`Invalid enum value: ${String(n)}`)}})}function Ph(e){Ji(e,{conflictCheck:"warn"})}});var ks=Nt(K=>{Object.defineProperty(K,"__esModule",{value:!0});var{PrismaClientKnownRequestError:xh,PrismaClientUnknownRequestError:Sh,PrismaClientRustPanicError:Rh,PrismaClientInitializationError:Th,PrismaClientValidationError:$h,getPrismaClient:Nh,sqltag:kh,empty:Ah,join:Oh,raw:qh,skip:vg,Decimal:Dh,Debug:bg,objectEnumValues:nt,makeStrictEnum:Ih,Extensions:Ns,warnOnce:Eg,defineDmmfProperty:Ch,Public:Fh,getRuntime:_g,createParam:Pg}=Sr(),J={};K.Prisma=J;K.$Enums={};J.prismaVersion={client:"6.19.0",engine:"2ba551f319ab1df4bc874a89965d8b3641056773"};J.PrismaClientKnownRequestError=xh;J.PrismaClientUnknownRequestError=Sh;J.PrismaClientRustPanicError=Rh;J.PrismaClientInitializationError=Th;J.PrismaClientValidationError=$h;J.Decimal=Dh;J.sql=kh;J.empty=Ah;J.join=Oh;J.raw=qh;J.validator=Fh.validator;J.getExtensionContext=Ns.getExtensionContext;J.defineExtension=Ns.defineExtension;J.DbNull=nt.instances.DbNull;J.JsonNull=nt.instances.JsonNull;J.AnyNull=nt.instances.AnyNull;J.NullTypes={DbNull:nt.classes.DbNull,JsonNull:nt.classes.JsonNull,AnyNull:nt.classes.AnyNull};var fe=require("path");K.Prisma.TransactionIsolationLevel=Ih({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"});K.Prisma.PasswordResetTokenScalarFieldEnum={id:"id",token:"token",user_id:"user_id",expiresAt:"expiresAt"};K.Prisma.UserScalarFieldEnum={id:"id",email:"email",password_hash:"password_hash",name:"name",gender:"gender",is_vip:"is_vip",birth_date:"birth_date",birth_time:"birth_time",birth_place:"birth_place",created_at:"created_at",partner_name:"partner_name",partner_gender:"partner_gender",partner_birth_date:"partner_birth_date",partner_birth_time:"partner_birth_time",partner_birth_place:"partner_birth_place",relationship_start_date:"relationship_start_date",vip_tier:"vip_tier",vip_expires_at:"vip_expires_at"};K.Prisma.ReminderScalarFieldEnum={user_id:"user_id",is_subscribed:"is_subscribed",frequency:"frequency",last_sent:"last_sent"};K.Prisma.TokenBlocklistScalarFieldEnum={id:"id",jti:"jti",expiresAt:"expiresAt"};K.Prisma.SubscriptionScalarFieldEnum={id:"id",user_id:"user_id",tier:"tier",price:"price",start_date:"start_date",end_date:"end_date",status:"status",payment_method:"payment_method",transaction_id:"transaction_id",created_at:"created_at"};K.Prisma.UsageStatsScalarFieldEnum={id:"id",user_id:"user_id",chat_messages_today:"chat_messages_today",tarot_overview_today:"tarot_overview_today",tarot_question_today:"tarot_question_today",astrology_overview_today:"astrology_overview_today",astrology_love_today:"astrology_love_today",numerology_today:"numerology_today",horoscope_daily_today:"horoscope_daily_today",horoscope_natal_chart:"horoscope_natal_chart",last_reset_date:"last_reset_date"};K.Prisma.ChatSessionScalarFieldEnum={id:"id",user_id:"user_id",title:"title",created_at:"created_at",updated_at:"updated_at"};K.Prisma.SortOrder={asc:"asc",desc:"desc"};K.Prisma.QueryMode={default:"default",insensitive:"insensitive"};K.Prisma.NullsOrder={first:"first",last:"last"};K.Gender=K.$Enums.Gender={male:"male",female:"female",other:"other"};K.Prisma.ModelName={PasswordResetToken:"PasswordResetToken",User:"User",Reminder:"Reminder",TokenBlocklist:"TokenBlocklist",Subscription:"Subscription",UsageStats:"UsageStats",ChatSession:"ChatSession"};var re={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"D:\\FCJ\\SorcererXStreme-Backend\\node_modules\\@prisma\\client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0},{fromEnvVar:null,value:"rhel-openssl-3.0.x"}],previewFeatures:[],sourceFilePath:"D:\\FCJ\\SorcererXStreme-Backend\\prisma\\schema.prisma"},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.19.0",engineVersion:"2ba551f319ab1df4bc874a89965d8b3641056773",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Gender {
  male
  female
  other
}

/// @map("password_reset_tokens")
model PasswordResetToken {
  id        String   @id @default(uuid())
  token     String   @unique
  user_id   String
  expiresAt DateTime
  user      User     @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@map("password_reset_tokens")
}

/// @map("users")
model User {
  id            String    @id @default(uuid())
  email         String    @unique
  password_hash String?
  name          String?
  gender        Gender?
  is_vip        Boolean   @default(false)
  birth_date    DateTime?
  birth_time    String?
  birth_place   String?
  created_at    DateTime  @default(now())

  partner_name            String?
  partner_gender          Gender?
  partner_birth_date      DateTime?
  partner_birth_time      String?
  partner_birth_place     String?
  relationship_start_date DateTime?

  vip_tier            String               @default("FREE")
  vip_expires_at      DateTime?
  reminder            Reminder?
  subscriptions       Subscription[]
  usageStats          UsageStats?
  passwordResetTokens PasswordResetToken[]
  chatSessions        ChatSession[]
}

/// @map("reminders")
model Reminder {
  user_id       String    @id
  is_subscribed Boolean   @default(true)
  frequency     String    @default("daily")
  last_sent     DateTime?
  user          User      @relation(fields: [user_id], references: [id])
}

/// @map("token_blocklist")
model TokenBlocklist {
  id        String   @id @default(uuid())
  jti       String   @unique
  expiresAt DateTime
}

/// @map("subscriptions")
model Subscription {
  id             String   @id @default(uuid())
  user_id        String
  tier           String
  price          Int
  start_date     DateTime @default(now())
  end_date       DateTime
  status         String   @default("active")
  payment_method String?
  transaction_id String?
  created_at     DateTime @default(now())
  user           User     @relation(fields: [user_id], references: [id])
}

/// @map("usage_stats")
model UsageStats {
  id                       String   @id @default(uuid())
  user_id                  String   @unique
  chat_messages_today      Int      @default(0)
  tarot_overview_today     Int      @default(0)
  tarot_question_today     Int      @default(0)
  astrology_overview_today Int      @default(0)
  astrology_love_today     Int      @default(0)
  numerology_today         Int      @default(0)
  horoscope_daily_today    Int      @default(0)
  horoscope_natal_chart    Int      @default(0)
  last_reset_date          DateTime @default(now())
  user                     User     @relation(fields: [user_id], references: [id])
}

/// @map("chat_sessions")
model ChatSession {
  id         String   @id @default(uuid())
  user_id    String   @db.Text
  title      String?  @db.Text
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  user User @relation(fields: [user_id], references: [id])

  @@index([user_id])
  @@map("chat_sessions")
}
`,inlineSchemaHash:"92806ddfa1f8b1a756a1868b842563a921265dd9df220d55da4c26a592fcca12",copyEngine:!0},$s=require("fs");re.dirname=__dirname;if(!$s.existsSync(fe.join(__dirname,"schema.prisma"))){let e=["node_modules/.prisma/client",".prisma/client"],t=e.find(n=>$s.existsSync(fe.join(process.cwd(),n,"schema.prisma")))??e[0];re.dirname=fe.join(process.cwd(),t),re.isBundled=!0}re.runtimeDataModel=JSON.parse('{"models":{"PasswordResetToken":{"dbName":"password_reset_tokens","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"PasswordResetTokenToUser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"@map(\\"password_reset_tokens\\")"},"User":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password_hash","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"gender","kind":"enum","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Gender","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_vip","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"birth_date","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"birth_time","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"birth_place","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"partner_name","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"partner_gender","kind":"enum","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Gender","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"partner_birth_date","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"partner_birth_time","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"partner_birth_place","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"relationship_start_date","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"vip_tier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"FREE","isGenerated":false,"isUpdatedAt":false},{"name":"vip_expires_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"reminder","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Reminder","nativeType":null,"relationName":"ReminderToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"subscriptions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Subscription","nativeType":null,"relationName":"SubscriptionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"usageStats","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UsageStats","nativeType":null,"relationName":"UsageStatsToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"passwordResetTokens","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"PasswordResetToken","nativeType":null,"relationName":"PasswordResetTokenToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"chatSessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ChatSession","nativeType":null,"relationName":"ChatSessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"@map(\\"users\\")"},"Reminder":{"dbName":null,"schema":null,"fields":[{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_subscribed","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"frequency","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"daily","isGenerated":false,"isUpdatedAt":false},{"name":"last_sent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"ReminderToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"@map(\\"reminders\\")"},"TokenBlocklist":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"jti","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"@map(\\"token_blocklist\\")"},"Subscription":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"tier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"price","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"start_date","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"end_date","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"active","isGenerated":false,"isUpdatedAt":false},{"name":"payment_method","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"transaction_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SubscriptionToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"@map(\\"subscriptions\\")"},"UsageStats":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chat_messages_today","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"tarot_overview_today","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"tarot_question_today","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"astrology_overview_today","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"astrology_love_today","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"numerology_today","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"horoscope_daily_today","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"horoscope_natal_chart","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"last_reset_date","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"UsageStatsToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"@map(\\"usage_stats\\")"},"ChatSession":{"dbName":"chat_sessions","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"ChatSessionToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"@map(\\"chat_sessions\\")"}},"enums":{"Gender":{"values":[{"name":"male","dbName":null},{"name":"female","dbName":null},{"name":"other","dbName":null}],"dbName":null}},"types":{}}');Ch(K.Prisma,re.runtimeDataModel);re.engineWasm=void 0;re.compilerWasm=void 0;var{warnEnvConflicts:Vh}=Sr();Vh({rootEnvPath:re.relativeEnvPaths.rootEnvPath&&fe.resolve(re.dirname,re.relativeEnvPaths.rootEnvPath),schemaEnvPath:re.relativeEnvPaths.schemaEnvPath&&fe.resolve(re.dirname,re.relativeEnvPaths.schemaEnvPath)});var jh=Nh(re);K.PrismaClient=jh;Object.assign(K,J);fe.join(__dirname,"query_engine-windows.dll.node");fe.join(process.cwd(),"node_modules/.prisma/client/query_engine-windows.dll.node");fe.join(__dirname,"libquery_engine-rhel-openssl-3.0.x.so.node");fe.join(process.cwd(),"node_modules/.prisma/client/libquery_engine-rhel-openssl-3.0.x.so.node");fe.join(__dirname,"schema.prisma");fe.join(process.cwd(),"node_modules/.prisma/client/schema.prisma")});var Os=Nt((Sg,As)=>{As.exports={...ks()}});var Ds=Nt((Rg,qs)=>{qs.exports={...Os()}});var Mh={};Ls(Mh,{postConfirmation:()=>Lh});module.exports=Bs(Mh);var Is=Ms(Ds()),Uh=new Is.PrismaClient,Lh=async e=>{try{let{sub:t,email:n,name:r}=e.request.userAttributes;await Uh.user.create({data:{id:t,email:n,name:r||n.split("@")[0]}}),console.log(`\u0110\xE3 \u0111\u1ED3ng b\u1ED9 user ${n} v\xE0o DB`)}catch(t){console.error("L\u1ED7i \u0111\u1ED3ng b\u1ED9:",t)}return e};0&&(module.exports={postConfirmation});
/*! Bundled license information:

@prisma/client/runtime/library.js:
  (*! Bundled license information:
  
  decimal.js/decimal.mjs:
    (*!
     *  decimal.js v10.5.0
     *  An arbitrary-precision Decimal type for JavaScript.
     *  https://github.com/MikeMcl/decimal.js
     *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
     *  MIT Licence
     *)
  *)
*/
